var e,t;e=this,t=function(e,t,l){"use strict";const n=e=>typeof e,s="",r=n(s),a=n(!0),o=n(0),i=n(n),u="type",d="default",c="Has",h="Ids",m="Table",p=m+"s",b=m+h,g="Row",v=g+"Count",f=g+h,y="Cell",I=y+h,w="Value",C=w+"s",k=w+h,x="currentTarget",S="value",T=e=>s+e,V=globalThis.window,R=Math,O=R.min,q=R.floor,M=isFinite,P=e=>null==e,N=(e,t,l)=>P(e)?null==l?void 0:l():t(e),L=e=>e==r||e==a,E=e=>n(e)==i,j=e=>Array.isArray(e),z=(e,t,l)=>e.slice(t,l),$=e=>e.length,A=e=>{throw Error(e)},{PureComponent:J,Fragment:B,createContext:D,createElement:F,useCallback:Q,useContext:H,useEffect:W,useLayoutEffect:U,useMemo:G,useRef:K,useState:X,useSyncExternalStore:Y}=t,Z=(e,...t)=>P(e)?{}:e(...t),_=(e,t)=>e.sort(t),ee=(e,t)=>e.forEach(t),te=(e,t)=>e.map(t),le=e=>0==$(e),ne=(e,...t)=>e.push(...t),se=e=>e.shift(),re=Object,ae=e=>re.getPrototypeOf(e),oe=re.entries,ie=re.isFrozen,ue=e=>!P(e)&&N(ae(e),(e=>e==re.prototype||P(ae(e))),(()=>!0)),de=re.keys,ce=re.freeze,he=(e=[])=>re.fromEntries(e),me=(e,t)=>t in e,pe=(e,t)=>(delete e[t],e),be=(e,t)=>te(oe(e),(([e,l])=>t(l,e))),ge=(e,t)=>he(be(e,((e,l)=>[l,t(e,l)]))),ve=e=>ue(e)&&0==(e=>$(de(e)))(e),fe=(e,t,l,n=0)=>P(e)||!ue(e)||!n&&ve(e)||ie(e)?(null==l||l(),!1):(((e,t)=>{ee(oe(e),(([e,l])=>t(l,e)))})(e,((l,n)=>{t(l,n)||pe(e,n)})),!!n||!ve(e)),ye=JSON.stringify,Ie=JSON.parse,we=e=>ye(e,((e,t)=>t instanceof Map?re.fromEntries([...t]):t)),Ce="tinybaseInspector",ke="TinyBase Inspector",xe=["left","top","bottom","right","full"],Se="state",Te="sort",Ve="open",Re="position",Oe=Ve,qe="editable",Me=(...e)=>we(e),Pe=(e,t)=>te(_([...e]),t),Ne=(e,t)=>[!!l.useCell(Se,e,qe,t),Q((l=>{t.setCell(Se,e,qe,(e=>!e)),l.preventDefault()}),[t,e])],Le="M20 80l5-15l40-40l10 10l-40 40l-15 5m5-15l10 10",Ee='content:url("',je=Ee+"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100' stroke-width='4' stroke='white' fill='none'>",ze='</svg>")',$e=Ee+"data:image/svg+xml,%3csvg viewBox='0 0 680 680' xmlns='http://www.w3.org/2000/svg' style='width:680px%3bheight:680px'%3e %3cpath stroke='white' stroke-width='80' fill='none' d='M340 617a84 241 90 11.01 0zM131 475a94 254 70 10428-124 114 286 70 01-428 124zm0-140a94 254 70 10428-124 114 286 70 01-428 124zm-12-127a94 254 70 00306 38 90 260 90 01-306-38zm221 3a74 241 90 11.01 0z' /%3e %3cpath fill='%23d81b60' d='M131 475a94 254 70 10428-124 114 286 70 01-428 124zm0-140a94 254 70 10428-124 114 286 70 01-428 124z' /%3e %3cpath d='M249 619a94 240 90 00308-128 114 289 70 01-308 128zM119 208a94 254 70 00306 38 90 260 90 01-306-38zm221 3a74 241 90 11.01 0z' /%3e%3c/svg%3e\")",Ae=te([[20,20,20,60],[20,20,60,20],[20,60,60,20],[60,20,20,60],[30,30,40,40]],(([e,t,l,n])=>je+`<rect x='20' y='20' width='60' height='60' fill='grey'/><rect x='${e}' y='${t}' width='${l}' height='${n}' fill='white'/>`+ze)),Je=je+"<path d='M20 20l60 60M20 80l60-60' />"+ze,Be=je+`<path d='${Le}' />`+ze,De=je+`<path d='${Le}M20 20l60 60' />`+ze;var Fe=Object.defineProperty,Qe=Object.defineProperties,He=Object.getOwnPropertyDescriptors,We=Object.getOwnPropertySymbols,Ue=Object.prototype.hasOwnProperty,Ge=Object.prototype.propertyIsEnumerable,Ke=(e,t,l)=>t in e?Fe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,Xe=(e,t)=>{for(var l in t||(t={}))Ue.call(t,l)&&Ke(e,l,t[l]);if(We)for(var l of We(t))Ge.call(t,l)&&Ke(e,l,t[l]);return e},Ye=(e,t)=>Qe(e,He(t));const Ze="*::-webkit-scrollbar",_e=((e,t="")=>e.join(t))(be(Ye(Xe(Ye(Xe(Ye(Xe({"":"all:initial;font-family:sans-serif;font-size:0.75rem;position:fixed;z-index:999999","*":"all:revert","*::before":"all:revert","*::after":"all:revert",[Ze]:"width:0.5rem;height:0.5rem;",[Ze+"-track"]:"background:#111",[Ze+"-thumb"]:"background:#999;border:1px solid #111",[Ze+"-thumb:hover"]:"background:#fff",[Ze+"-corner"]:"background:#111",img:"width:1rem;height:1rem;background:#111;border:0;vertical-align:text-bottom",">img":"padding:0.25rem;bottom:0;right:0;position:fixed;"+$e},he(te(["bottom:0;left:0","top:0;right:0"],((e,t)=>[`>img[data-position='${t}']`,e])))),{main:"display:flex;flex-direction:column;background:#111d;color:#fff;position:fixed;"}),he(te(["bottom:0;left:0;width:35vw;height:100vh","top:0;right:0;width:100vw;height:30vh","bottom:0;left:0;width:100vw;height:30vh","top:0;right:0;width:35vw;height:100vh","top:0;right:0;width:100vw;height:100vh"],((e,t)=>[`main[data-position='${t}']`,e])))),{header:"display:flex;padding:0.25rem;background:#000;align-items:center","header>img:nth-of-type(1)":$e,"header>img:nth-of-type(6)":Je}),he(te(Ae,((e,t)=>[`header>img[data-id='${t}']`,e])))),{"header>span":"flex:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-left:0.25rem",article:"padding:0.25rem 0.25rem 0.25rem 0.5rem;overflow:auto;flex:1",details:"margin-left:0.75rem;width:fit-content;","details img":"display:none","details[open]>summary img":"display:unset;background:none;margin-left:0.25rem","details[open]>summary img.edit":Be,"details[open]>summary img.done":De,summary:"margin-left:-0.75rem;line-height:1.25rem;user-select:none;width:fit-content",table:"border-collapse:collapse;table-layout:fixed;margin-bottom:0.5rem","table input":"background:#111;color:unset;padding:0 0.25rem;border:0;font-size:unset;vertical-align:top;margin:0",'table input[type="number"]':"width:4rem","table tbody button":"font-size:0;background:#fff;border-radius:50%;margin:0 0.125rem 0 0;width:0.85rem;color:#111","table button:first-letter":"font-size:0.75rem",thead:"background:#222","th:nth-of-type(1)":"min-width:2rem;","th.sorted":"background:#000","table caption":"text-align:left;white-space:nowrap;line-height:1.25rem",button:"width:1.5rem;border:none;background:none;color:#fff;padding:0","button[disabled]":"color:#777","button.next":"margin-right:0.5rem",[`th,#${Ce} td`]:"overflow:hidden;text-overflow:ellipsis;padding:0.25rem 0.5rem;max-width:12rem;white-space:nowrap;border-width:1px 0;border-style:solid;border-color:#777;text-align:left","span.warn":"margin:0.25rem;color:#d81b60"}),((e,t)=>e?`#${Ce} ${t}{${e}}`:""))),et=({s:e})=>{var t;const n=null!=(t=l.useValue(Re,e))?t:1,s=l.useSetValueCallback(Oe,(()=>!0),[],e);return l.useValue(Oe,e)?null:F("img",{onClick:s,title:ke,"data-position":n})},tt=({uniqueId:e,summary:t,editable:n,handleEditable:s,children:r,s:a})=>{const o=!!l.useCell(Se,e,Ve,a),i=l.useSetCellCallback(Se,e,Ve,(e=>e[x].open),[],a);return F("details",{open:o,onToggle:i},F("summary",null,t,s?F("img",{onClick:s,className:n?"done":"edit"}):null),r)},lt=e=>{const t=n(e);return L(t)||t==o&&M(e)?t:void 0},nt=(e,t,l,n,s)=>P(s)?e.delCell(t,l,n,!0):e.setCell(t,l,n,s),st=(e,t,l)=>P(l)?e.delValue(t):e.setValue(t,l),rt=(e,t,l,n)=>e==r?t:e==o?l:n;var at=Object.defineProperty,ot=Object.defineProperties,it=Object.getOwnPropertyDescriptors,ut=Object.getOwnPropertySymbols,dt=Object.prototype.hasOwnProperty,ct=Object.prototype.propertyIsEnumerable,ht=(e,t,l)=>t in e?at(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,mt=(e,t)=>{for(var l in t||(t={}))dt.call(t,l)&&ht(e,l,t[l]);if(ut)for(var l of ut(t))ct.call(t,l)&&ht(e,l,t[l]);return e},pt=(e,t)=>ot(e,it(t)),bt=(e,t)=>{var l={};for(var n in e)dt.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(null!=e&&ut)for(var n of ut(e))t.indexOf(n)<0&&ct.call(e,n)&&(l[n]=e[n]);return l};const gt="editable",vt=(e,t)=>te(l.useTableCellIds(e,t),(t=>e+"."+t)),ft=(e,t,l)=>{const n=Q(e,t);return l?n:void 0},yt=(...e)=>G((()=>e),e),It=(e,t)=>G((()=>({store:e,tableId:t})),[e,t]),wt=(e,t)=>G((()=>({queries:e,queryId:t})),[e,t]),Ct=(e,t=!1,l,n=0,s,r,a,o)=>{const[[i,u,d],c]=X([e,t,n]),h=Q((e=>{c(e),null==o||o(e)}),[o]),m=ft((e=>h([e,e==i&&!u,d])),[h,i,u,d],l),p=Q((e=>h([i,u,e])),[h,i,u]),b=!0===a?Et:a;return[[i,u,d],m,G((()=>!1===a?null:F(b,{offset:d,limit:s,total:r,onChange:p})),[a,b,d,s,r,p])]},kt=(e,t,l)=>G((()=>{const s=null!=t?t:e;return ge(j(s)?he(te(s,(e=>[e,e]))):s,((e,t)=>mt(mt({},{label:t,component:l}),n(e)==r?{label:e}:e)))}),[t,l,e]),xt=({className:e,headerRow:t,idColumn:l,params:[n,s,r,a,o,i]})=>F("table",{className:e},i?F("caption",null,i):null,!1===t?null:F("thead",null,F("tr",null,!1===l?null:F(St,{sort:null!=a?a:[],label:"Id",onClick:o}),be(n,(({label:e},t)=>F(St,{key:t,cellId:t,label:e,sort:null!=a?a:[],onClick:o}))))),F("tbody",null,te(r,(e=>F("tr",{key:e},!1===l?null:F("th",null,e),be(n,(({component:t,getComponentProps:l},n)=>F("td",{key:n},F(t,pt(mt(mt({},Z(l,e,n)),s),{rowId:e,cellId:n})))))))))),St=({cellId:e,sort:[t,l],label:n=(null!=e?e:s),onClick:r})=>F("th",{onClick:ft((()=>null==r?void 0:r(e)),[r,e],r),className:P(l)||t!=e?void 0:`sorted ${l?"de":"a"}scending`},P(l)||t!=e?null:(l?"↓":"↑")+" ",n),Tt=({localRowId:e,params:[t,n,s,r,a,o,i]})=>{const u=l.useRemoteRowId(a,e,o);return F("tr",null,!1===t?null:F(B,null,F("th",null,e),F("th",null,u)),be(n,(({component:t,getComponentProps:l},n)=>{const[a,o]=((e,t="",l)=>e.split(t,l))(n,".",2),d=a===s?e:a===r?u:null;return P(d)?null:F("td",{key:n},F(t,pt(mt({},Z(l,d,o)),{store:i,tableId:a,rowId:d,cellId:o})))})))},Vt=({thing:e,onThingChange:t,className:l,hasSchema:n,showType:s=!0})=>{const[i,u]=X(),[d,c]=X(),[h,m]=X(),[p,b]=X(),[g,v]=X();d!==e&&(u(lt(e)),c(e),m(e+""),b(Number(e)||0),v(!!e));const f=Q(((e,l)=>{l(e),c(e),t(e)}),[t]),y=Q((()=>{if(!(null==n?void 0:n())){const e=rt(i,o,a,r),l=rt(e,h,p,g);u(e),c(l),t(l)}}),[n,t,h,p,g,i]);return F("div",{className:l},s?F("button",{className:i,onClick:y},i):null,rt(i,F("input",{key:i,value:h,onChange:Q((e=>f(e[x][S]+"",m)),[f])}),F("input",{key:i,type:"number",value:p,onChange:Q((e=>f(Number(e[x][S]||0),b)),[f])}),F("input",{key:i,type:"checkbox",checked:g,onChange:Q((e=>f(!!e[x].checked,v)),[f])})))},Rt=e=>{var t=e,{tableId:n,cellId:s,descending:r,offset:a,limit:o,store:i,editable:u,sortOnClick:d,paginator:c=!1,onChange:h,customCells:m}=t,p=bt(t,["tableId","cellId","descending","offset","limit","store","editable","sortOnClick","paginator","onChange","customCells"]);const[b,g,v]=Ct(s,r,d,a,o,l.useRowCount(n,i),c,h);return F(xt,pt(mt({},p),{params:yt(kt(l.useTableCellIds(n,i),m,u?Nt:l.CellView),It(i,n),l.useSortedRowIds(n,...b,o,i),b,g,v)}))},Ot=({store:e,editable:t=!1,valueComponent:n=(t?Lt:l.ValueView),getValueComponentProps:s,className:r,headerRow:a,idColumn:o})=>F("table",{className:r},!1===a?null:F("thead",null,F("tr",null,!1===o?null:F("th",null,"Id"),F("th",null,w))),F("tbody",null,te(l.useValueIds(e),(t=>F("tr",{key:t},!1===o?null:F("th",null,t),F("td",null,F(n,pt(mt({},Z(s,t)),{valueId:t,store:e})))))))),qt=e=>{var t=e,{indexId:n,sliceId:s,indexes:r,editable:a,customCells:o}=t,i=bt(t,["indexId","sliceId","indexes","editable","customCells"]);const[u,d,c]=((e,t)=>[e,null==e?void 0:e.getStore(),null==e?void 0:e.getTableId(t)])(l.useIndexesOrIndexesById(r),n);return F(xt,pt(mt({},i),{params:yt(kt(l.useTableCellIds(c,d),o,a?Nt:l.CellView),It(d,c),l.useSliceRowIds(n,s,u))}))},Mt=({relationshipId:e,relationships:t,editable:n,customCells:s,className:r,headerRow:a,idColumn:o=!0})=>{const[i,u,d,c]=((e,t)=>[e,null==e?void 0:e.getStore(),null==e?void 0:e.getLocalTableId(t),null==e?void 0:e.getRemoteTableId(t)])(l.useRelationshipsOrRelationshipsById(t),e),h=kt([...vt(d,u),...vt(c,u)],s,n?Nt:l.CellView),m=yt(o,h,d,c,e,i,u);return F("table",{className:r},!1===a?null:F("thead",null,F("tr",null,!1===o?null:F(B,null,F("th",null,d,".Id"),F("th",null,c,".Id")),be(h,(({label:e},t)=>F("th",{key:t},e))))),F("tbody",null,te(l.useRowIds(d,u),(e=>F(Tt,{key:e,localRowId:e,params:m})))))},Pt=e=>{var t=e,{queryId:n,cellId:s,descending:r,offset:a,limit:o,queries:i,sortOnClick:u,paginator:d=!1,customCells:c,onChange:h}=t,m=bt(t,["queryId","cellId","descending","offset","limit","queries","sortOnClick","paginator","customCells","onChange"]);const[p,b,g]=Ct(s,r,u,a,o,l.useResultRowCount(n,i),d,h);return F(xt,pt(mt({},m),{params:yt(kt(l.useResultTableCellIds(n,i),c,l.ResultCellView),wt(i,n),l.useResultSortedRowIds(n,...p,o,i),p,b,g)}))},Nt=({tableId:e,rowId:t,cellId:n,store:s,className:r,showType:a})=>{var o;return F(Vt,{thing:l.useCell(e,t,n,s),onThingChange:l.useSetCellCallback(e,t,n,(e=>e),[],s),className:null!=r?r:gt+y,showType:a,hasSchema:null==(o=l.useStoreOrStoreById(s))?void 0:o.hasTablesSchema})},Lt=({valueId:e,store:t,className:n,showType:s})=>{var r;return F(Vt,{thing:l.useValue(e,t),onThingChange:l.useSetValueCallback(e,(e=>e),[],t),className:null!=n?n:gt+w,showType:s,hasSchema:null==(r=l.useStoreOrStoreById(t))?void 0:r.hasValuesSchema})},Et=({onChange:e,total:t,offset:l=0,limit:n=t,singular:s="row",plural:r=s+"s"})=>{(l>t||l<0)&&(l=0,e(0));const a=ft((()=>e(l-n)),[e,l,n],l>0),o=ft((()=>e(l+n)),[e,l,n],l+n<t);return F(B,null,t>n&&F(B,null,F("button",{className:"previous",disabled:0==l,onClick:a},"←"),F("button",{className:"next",disabled:l+n>=t,onClick:o},"→"),l+1," to ",O(t,l+n)," of "),t," ",1!=t?r:s)},jt=({indexes:e,indexesId:t,indexId:n,s:s})=>F(tt,{uniqueId:Me("i",t,n),summary:"Index: "+n,s:s},te(l.useSliceIds(n,e),(l=>F(zt,{indexes:e,indexesId:t,indexId:n,sliceId:l,s:s,key:l})))),zt=({indexes:e,indexesId:t,indexId:l,sliceId:n,s:s})=>{const r=Me("i",t,l,n),[a,o]=Ne(r,s);return F(tt,{uniqueId:r,summary:"Slice: "+n,editable:a,handleEditable:o,s:s},F(qt,{sliceId:n,indexId:l,indexes:e,editable:a}))},$t=({indexesId:e,s:t})=>{const n=l.useIndexes(e),s=l.useIndexIds(n);return P(n)?null:F(tt,{uniqueId:Me("i",e),summary:"Indexes: "+(null!=e?e:d),s:t},le(s)?"No indexes defined":Pe(s,(l=>F(jt,{indexes:n,indexesId:e,indexId:l,s:t,key:l}))))},At=({metrics:e,metricId:t})=>F("tr",null,F("th",null,t),F("td",null,null==e?void 0:e.getTableId(t)),F("td",null,l.useMetric(t,e))),Jt=({metricsId:e,s:t})=>{const n=l.useMetrics(e),s=l.useMetricIds(n);return P(n)?null:F(tt,{uniqueId:Me("m",e),summary:"Metrics: "+(null!=e?e:d),s:t},le(s)?"No metrics defined":F("table",null,F("thead",null,F("th",null,"Metric Id"),F("th",null,"Table Id"),F("th",null,"Metric")),F("tbody",null,te(s,(e=>F(At,{metrics:n,metricId:e,key:e}))))))},Bt=({queries:e,queriesId:t,queryId:n,s:s})=>{var r;const a=Me("q",t,n),[o,i,u]=Ie(null!=(r=l.useCell(Se,a,Te,s))?r:"[]"),d=l.useSetCellCallback(Se,a,Te,we,[],s);return F(tt,{uniqueId:a,summary:"Query: "+n,s:s},F(Pt,{queryId:n,queries:e,cellId:o,descending:i,offset:u,limit:10,paginator:!0,sortOnClick:!0,onChange:d}))},Dt=({queriesId:e,s:t})=>{const n=l.useQueries(e),s=l.useQueryIds(n);return P(n)?null:F(tt,{uniqueId:Me("q",e),summary:"Queries: "+(null!=e?e:d),s:t},le(s)?"No queries defined":Pe(s,(l=>F(Bt,{queries:n,queriesId:e,queryId:l,s:t,key:l}))))},Ft=({relationships:e,relationshipsId:t,relationshipId:l,s:n})=>{const s=Me("r",t,l),[r,a]=Ne(s,n);return F(tt,{uniqueId:s,summary:"Relationship: "+l,editable:r,handleEditable:a,s:n},F(Mt,{relationshipId:l,relationships:e,editable:r}))},Qt=({relationshipsId:e,s:t})=>{const n=l.useRelationships(e),s=l.useRelationshipIds(n);return P(n)?null:F(tt,{uniqueId:Me("r",e),summary:"Relationships: "+(null!=e?e:d),s:t},le(s)?"No relationships defined":Pe(s,(l=>F(Ft,{relationships:n,relationshipsId:e,relationshipId:l,s:t,key:l}))))},Ht=({tableId:e,store:t,storeId:n,s:s})=>{var r;const a=Me("t",n,e),[o,i,u]=Ie(null!=(r=l.useCell(Se,a,Te,s))?r:"[]"),d=l.useSetCellCallback(Se,a,Te,we,[],s),[c,h]=Ne(a,s);return F(tt,{uniqueId:a,summary:m+": "+e,editable:c,handleEditable:h,s:s},F(Rt,{tableId:e,store:t,cellId:o,descending:i,offset:u,limit:10,paginator:!0,sortOnClick:!0,onChange:d,editable:c}))},Wt=({store:e,storeId:t,s:n})=>{const s=Me("v",t),[r,a]=Ne(s,n);return le(l.useValueIds(e))?null:F(tt,{uniqueId:s,summary:C,editable:r,handleEditable:a,s:n},F(Ot,{store:e,editable:r}))},Ut=({storeId:e,s:t})=>{const n=l.useStore(e),s=l.useTableIds(n);return P(n)?null:F(tt,{uniqueId:Me("s",e),summary:(n.isMergeable()?"Mergeable":"")+"Store: "+(null!=e?e:d),s:t},F(Wt,{storeId:e,store:n,s:t}),Pe(s,(l=>F(Ht,{store:n,storeId:e,tableId:l,s:t,key:l}))))},Gt=({s:e})=>{const t=K(null),n=K(0),[s,r]=X(!1),{scrollLeft:a,scrollTop:o}=l.useValues(e);U((()=>{const e=t.current;if(e&&!s){const t=new MutationObserver((()=>{e.scrollWidth>=q(a)+e.clientWidth&&e.scrollHeight>=q(o)+e.clientHeight&&e.scrollTo(a,o)}));return t.observe(e,{childList:!0,subtree:!0}),()=>t.disconnect()}}),[s,a,o]);const i=Q((t=>{const{scrollLeft:l,scrollTop:s}=t[x];cancelIdleCallback(n.current),n.current=requestIdleCallback((()=>{r(!0),e.setPartialValues({scrollLeft:l,scrollTop:s})}))}),[e]),u=l.useStore(),d=l.useStoreIds(),c=l.useMetrics(),h=l.useMetricsIds(),m=l.useIndexes(),p=l.useIndexesIds(),b=l.useRelationships(),g=l.useRelationshipsIds(),v=l.useQueries(),f=l.useQueriesIds();return P(u)&&le(d)&&P(c)&&le(h)&&P(m)&&le(p)&&P(b)&&le(g)&&P(v)&&le(f)?F("span",{className:"warn"},"There are no Stores or other objects to inspect. Make sure you placed the Inspector inside a Provider component."):F("article",{ref:t,onScroll:i},F(Ut,{s:e}),te(d,(t=>F(Ut,{storeId:t,s:e,key:t}))),F(Jt,{s:e}),te(h,(t=>F(Jt,{metricsId:t,s:e,key:t}))),F($t,{s:e}),te(p,(t=>F($t,{indexesId:t,s:e,key:t}))),F(Qt,{s:e}),te(g,(t=>F(Qt,{relationshipsId:t,s:e,key:t}))),F(Dt,{s:e}),te(f,(t=>F(Dt,{queriesId:t,s:e,key:t}))))};var Kt=Object.defineProperty;class Xt extends J{constructor(e){var t,l,n;super(e),n=(e,t)=>console.error(e,t.componentStack),(l="componentDidCatch")in(t=this)?Kt(t,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[l]=n,this.state={e:0}}static getDerivedStateFromError(){return{e:1}}render(){return this.state.e?F("span",{className:"warn"},"Inspector error: please see console for details."):this.props.children}}const Yt=({s:e})=>{var t;const n=null!=(t=l.useValue(Re,e))?t:1,s=l.useSetValueCallback(Oe,(()=>!1),[],e),r=l.useSetValueCallback(Re,(e=>Number(e[x].dataset.id)),[],e);return F("header",null,F("img",{title:ke}),F("span",null,ke),te(xe,((e,t)=>t==n?null:F("img",{onClick:r,"data-id":t,title:"Dock to "+e,key:t}))),F("img",{onClick:s,title:"Close"}))},Zt=({s:e})=>{var t;const n=null!=(t=l.useValue(Re,e))?t:1;return l.useValue(Oe,e)?F("main",{"data-position":n},F(Yt,{s:e}),F(Xt,null,F(Gt,{s:e}))):null},_t=e=>t=>{return l=(t,l)=>t+e(l),al(t).reduce(l,0);var l},el=e=>{var t;return null!=(t=null==e?void 0:e.size)?t:0},tl=_t(el),ll=_t(tl),nl=_t(ll),sl=(e,t)=>{var l;return null!=(l=null==e?void 0:e.has(t))&&l},rl=e=>P(e)||0==el(e),al=e=>{var t;return[...null!=(t=null==e?void 0:e.values())?t:[]]},ol=e=>e.clear(),il=(e,t)=>null==e?void 0:e.forEach(t),ul=(e,t)=>null==e?void 0:e.delete(t),dl=e=>new Map(e),cl=e=>{var t;return[...null!=(t=null==e?void 0:e.keys())?t:[]]},hl=(e,t)=>null==e?void 0:e.get(t),ml=(e,t)=>il(e,((e,l)=>t(l,e))),pl=(e,t,l)=>P(l)?(ul(e,t),e):null==e?void 0:e.set(t,l),bl=(e,t,l,n)=>(sl(e,t)?null==n||n(hl(e,t)):pl(e,t,l()),hl(e,t)),gl=(e,t,l,n=pl)=>(ge(t,((t,n)=>l(e,n,t))),ml(e,(l=>me(t,l)?0:n(e,l))),e),vl=(e,t,l,n)=>{const s={};return il(e,((e,r)=>{if(!(null==l?void 0:l(e,r))){const l=t?t(e,r):e;(null==n?void 0:n(l))||(s[r]=l)}})),s},fl=(e,t,l)=>vl(e,(e=>vl(e,t,l)),rl,ve),yl=(e,t,l)=>vl(e,(e=>fl(e,t,l)),rl,ve),Il=(e,t)=>{const l=dl();return il(e,((e,n)=>{var s;return l.set(n,null!=(s=null==t?void 0:t(e))?s:e)})),l},wl=e=>Il(e,Il),Cl=e=>Il(e,wl),kl=(e,t,l,n,s=0)=>N((l?bl:hl)(e,t[s],s>$(t)-2?l:dl),(r=>{if(s>$(t)-2)return(null==n?void 0:n(r))&&pl(e,t[s]),r;const a=kl(r,t,l,n,s+1);return rl(r)&&pl(e,t[s]),a})),xl=e=>new Set(j(e)||P(e)?e:[e]),Sl=(e,t)=>null==e?void 0:e.add(t),Tl=/^\d+$/,Vl=()=>{const e=[];let t=0;return[l=>{var n;return null!=(n=l?se(e):null)?n:s+t++},t=>{Tl.test(t)&&$(e)<1e3&&ne(e,t)}]},Rl=e=>{let t;const[l,n]=Vl(),r=dl();return[(n,a,o,i=[],u=()=>[])=>{null!=t||(t=e());const d=l(1);return pl(r,d,[n,a,o,i,u]),Sl(kl(a,null!=o?o:[s],xl),d),d},(e,l,...n)=>ee(((e,t=[s])=>{const l=[],n=(e,s)=>s==$(t)?ne(l,e):null===t[s]?il(e,(e=>n(e,s+1))):ee([t[s],null],(t=>n(hl(e,t),s+1)));return n(e,0),l})(e,l),(e=>il(e,(e=>hl(r,e)[0](t,...null!=l?l:[],...n))))),e=>N(hl(r,e),(([,t,l])=>(kl(t,null!=l?l:[s],void 0,(t=>(ul(t,e),rl(t)?1:0))),pl(r,e),n(e),l))),e=>N(hl(r,e),(([e,,l=[],n,s])=>{const r=(...a)=>{var o,i;const u=$(a);u==$(l)?e(t,...a,...s(a)):P(l[u])?ee(null!=(i=null==(o=n[u])?void 0:o.call(n,...a))?i:[],(e=>r(...a,e))):r(...a,l[u])};r()}))]};var Ol=Object.defineProperty,ql=Object.getOwnPropertySymbols,Ml=Object.prototype.hasOwnProperty,Pl=Object.prototype.propertyIsEnumerable,Nl=(e,t,l)=>t in e?Ol(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,Ll=(e,t,l)=>new Promise(((n,s)=>{var r=e=>{try{o(l.next(e))}catch(e){s(e)}},a=e=>{try{o(l.throw(e))}catch(e){s(e)}},o=e=>e.done?n(e.value):Promise.resolve(e.value).then(r,a);o((l=l.apply(e,t)).next())}));const El=dl(),jl=dl();var zl=(e,t,l)=>new Promise(((n,s)=>{var r=e=>{try{o(l.next(e))}catch(e){s(e)}},a=e=>{try{o(l.throw(e))}catch(e){s(e)}},o=e=>e.done?n(e.value):Promise.resolve(e.value).then(r,a);o((l=l.apply(e,t)).next())}));const $l="storage",Al=e=>[e,e],Jl=(e,t=tl)=>t(e[0])+t(e[1]),Bl=()=>[dl(),dl()],Dl=e=>[...e],Fl=([e,t])=>e===t,Ql=(e,t,l)=>pl(e,t,hl(e,t)==-l?void 0:l),Hl=()=>{let e,t,l=!1,n=!1,s=0,r=[];const a=dl(),i=dl(),h=dl(),x=dl(),S=dl(),V=dl(),R=dl(),O=dl(),q=dl(),M=dl(),A=dl(),J=dl(),B=dl(),D=dl(),F=xl(),Q=dl(),H=dl(),W=dl(),U=dl(),G=Bl(),K=Bl(),X=Bl(),Y=Bl(),Z=Bl(),le=Bl(),se=Bl(),re=Bl(),ae=Bl(),oe=Bl(),ie=Bl(),ue=Bl(),de=Bl(),he=Bl(),be=Bl(),ye=Bl(),Ce=Bl(),ke=Bl(),xe=Bl(),Se=Bl(),Te=Bl(),Ve=Bl(),Re=dl(),Oe=Bl(),[qe,Me,Pe,Ne]=Rl((()=>Tl)),Le=e=>{if(!fe(e,((e,t)=>[u,d].includes(t))))return!1;const t=e[u];return!(!L(t)&&t!=o||(lt(e[d])!=t&&pe(e,d),0))},Ee=j,je=(t,l)=>(!e||sl(A,l)||pt(l))&&fe(t,((e,t)=>ze(l,t,e)),(()=>pt(l))),ze=(e,t,l,n)=>fe(n?l:Be(l,e,t),((n,s)=>N($e(e,t,s,n),(e=>(l[s]=e,!0)),(()=>!1))),(()=>pt(e,t))),$e=(t,l,n,s)=>e?N(hl(hl(A,t),n),(e=>lt(s)!=e[u]?pt(t,l,n,s,e[d]):s),(()=>pt(t,l,n,s))):P(lt(s))?pt(t,l,n,s):s,Ae=(e,t)=>fe(t?e:De(e),((t,l)=>N(Je(l,t),(t=>(e[l]=t,!0)),(()=>!1))),(()=>bt())),Je=(e,l)=>t?N(hl(B,e),(t=>lt(l)!=t[u]?bt(e,l,t[d]):l),(()=>bt(e,l))):P(lt(l))?bt(e,l):l,Be=(e,t,l)=>(N(hl(J,t),(([n,s])=>{il(n,((t,l)=>{me(e,l)||(e[l]=t)})),il(s,(n=>{me(e,n)||pt(t,l,n)}))})),e),De=e=>(t&&(il(D,((t,l)=>{me(e,l)||(e[l]=t)})),il(F,(t=>{me(e,t)||bt(t)}))),e),Fe=e=>gl(A,e,((e,t,l)=>{const n=dl(),s=xl();gl(bl(A,t,dl),l,((e,t,l)=>{pl(e,t,l),N(l[d],(e=>pl(n,t,e)),(()=>Sl(s,t)))})),pl(J,t,[n,s])}),((e,t)=>{pl(A,t),pl(J,t)})),Qe=e=>gl(B,e,((e,t,l)=>{pl(B,t,l),N(l[d],(e=>pl(D,t,e)),(()=>Sl(F,t)))}),((e,t)=>{pl(B,t),pl(D,t),ul(F,t)})),He=e=>ve(e)?Ut():Dt(e),We=e=>gl(W,e,((e,t,l)=>Ue(t,l)),((e,t)=>tt(t))),Ue=(e,t)=>gl(bl(W,e,(()=>(it(e,1),pl(Q,e,Vl()),pl(H,e,dl()),dl()))),t,((t,l,n)=>Ge(e,t,l,n)),((t,l)=>rt(e,t,l))),Ge=(e,t,l,n,s)=>gl(bl(t,l,(()=>(ut(e,l,1),dl()))),n,((t,n,s)=>Ke(e,l,t,n,s)),((n,r)=>at(e,t,l,n,r,s))),Ke=(e,t,l,n,s)=>{sl(l,n)||dt(e,t,n,1);const r=hl(l,n);s!==r&&(ct(e,t,n,r,s),pl(l,n,s))},Xe=(e,t,l,n,s)=>N(hl(t,l),(t=>Ke(e,l,t,n,s)),(()=>Ge(e,t,l,Be({[n]:s},e,l)))),Ye=e=>ve(e)?Xt():Ft(e),Ze=e=>gl(U,e,((e,t,l)=>_e(t,l)),((e,t)=>ot(t))),_e=(e,t)=>{sl(U,e)||ht(e,1);const l=hl(U,e);t!==l&&(mt(e,l,t),pl(U,e,t))},et=e=>{var t;return null!=(t=hl(W,e))?t:Ue(e,{})},tt=e=>Ue(e,{}),rt=(e,t,l)=>{const[,n]=hl(Q,e);n(l),Ge(e,t,l,{},!0)},at=(e,t,l,n,s,r)=>{var a;const o=hl(null==(a=hl(J,e))?void 0:a[0],s);if(!P(o)&&!r)return Ke(e,l,n,s,o);const i=t=>{ct(e,l,t,hl(n,t)),dt(e,l,t,-1),pl(n,t)};P(o)?i(s):ml(n,i),rl(n)&&(ut(e,l,-1),rl(pl(t,l))&&(it(e,-1),pl(W,e),pl(Q,e),pl(H,e)))},ot=e=>{const t=hl(D,e);if(!P(t))return _e(e,t);mt(e,hl(U,e)),ht(e,-1),pl(U,e)},it=(e,t)=>Ql(a,e,t),ut=(e,t,l)=>Ql(bl(x,e,dl),t,l)&&pl(h,e,bl(h,e,(()=>0))+l),dt=(e,t,l,n)=>{var s;const r=hl(H,e),a=null!=(s=hl(r,l))?s:0;(0==a&&1==n||1==a&&-1==n)&&Ql(bl(i,e,dl),l,n),pl(r,l,a!=-n?a+n:null),Ql(bl(bl(S,e,dl),t,dl),l,n)},ct=(e,t,l,n,s)=>{var a;bl(bl(bl(V,e,dl),t,dl),l,(()=>[n,0]))[1]=s,null==(a=r[3])||a.call(r,e,t,l,s)},ht=(e,t)=>Ql(R,e,t),mt=(e,t,l)=>{var n;bl(O,e,(()=>[t,0]))[1]=l,null==(n=r[4])||n.call(r,e,l)},pt=(e,t,l,n,s)=>(ne(bl(bl(bl(q,e,dl),t,dl),l,(()=>[])),n),s),bt=(e,t,l)=>(ne(bl(M,e,(()=>[])),t),l),gt=(e,t,l)=>N(hl(hl(hl(V,e),t),l),(([e,t])=>[!0,e,t]),(()=>[!1,...Al(Mt(e,t,l))])),vt=e=>N(hl(O,e),(([e,t])=>[!0,e,t]),(()=>[!1,...Al(Lt(e))])),ft=e=>rl(q)||rl(ye[e])?0:il(e?Cl(q):q,((t,l)=>il(t,((t,n)=>il(t,((t,s)=>Me(ye[e],[l,n,s],t))))))),yt=e=>rl(M)||rl(Ce[e])?0:il(e?Il(M):M,((t,l)=>Me(Ce[e],[l],t))),It=(e,t,l,n)=>{if(!rl(e))return Me(t,n,(()=>vl(e))),ml(e,((e,t)=>Me(l,[...null!=n?n:[],e],1==t))),1},wt=e=>{const t=Et();t!=l&&Me(G[e],void 0,t);const n=rl(oe[e]),s=rl(de[e])&&rl(he[e])&&rl(ae[e])&&rl(ie[e])&&rl(le[e])&&rl(se[e])&&rl(re[e])&&n&&rl(X[e])&&rl(Y[e]),r=rl(be[e])&&rl(ue[e])&&rl(Z[e])&&rl(K[e]);if(!s||!r){const t=e?[Il(a),wl(i),Il(h),wl(x),Cl(S),Cl(V)]:[a,i,h,x,S,V];if(!s){It(t[0],X[e],Y[e]),il(t[1],((t,l)=>It(t,le[e],se[e],[l]))),il(t[2],((t,l)=>{0!=t&&Me(re[e],[l],Vt(l))}));const l=xl();il(t[3],((t,s)=>{It(t,ae[e],ie[e],[s])&&!n&&(Me(oe[e],[s,null]),Sl(l,s))})),n||il(t[5],((t,n)=>{if(!sl(l,n)){const l=xl();il(t,(e=>il(e,(([t,n],s)=>n!==t?Sl(l,s):ul(e,s))))),il(l,(t=>Me(oe[e],[n,t])))}})),il(t[4],((t,l)=>il(t,((t,n)=>It(t,de[e],he[e],[l,n])))))}if(!r){let l;il(t[5],((t,n)=>{let s;il(t,((t,r)=>{let a;il(t,(([t,o],i)=>{o!==t&&(Me(be[e],[n,r,i],o,t,gt),l=s=a=1)})),a&&Me(ue[e],[n,r],gt)})),s&&Me(Z[e],[n],gt)})),l&&Me(K[e],void 0,gt)}}},Ct=e=>{const t=Jt();t!=n&&Me(ke[e],void 0,t);const l=rl(Se[e])&&rl(Te[e]),s=rl(Ve[e])&&rl(xe[e]);if(!l||!s){const t=e?[Il(R),Il(O)]:[R,O];if(l||It(t[0],Se[e],Te[e]),!s){let l;il(t[1],(([t,n],s)=>{n!==t&&(Me(Ve[e],[s],n,t,vt),l=1)})),l&&Me(xe[e],void 0,vt)}}},kt=(e,...t)=>(_t((()=>e(...te(t,T)))),Tl),xt=()=>yl(W),St=()=>cl(W),Tt=e=>cl(hl(H,T(e))),Vt=e=>el(hl(W,T(e))),Rt=e=>cl(hl(W,T(e))),Ot=(e,t,l,n=0,s)=>{return te(z(_((r=hl(W,T(e)),a=(e,l)=>[P(t)?l:hl(e,T(t)),l],te([...null!=(o=null==r?void 0:r.entries())?o:[]],(([e,t])=>a(t,e)))),(([e],[t])=>{return((null!=(n=e)?n:0)<(null!=(s=t)?s:0)?-1:1)*(l?-1:1);var n,s})),n,P(s)?s:n+s),(([,e])=>e));var r,a,o},qt=(e,t)=>cl(hl(hl(W,T(e)),T(t))),Mt=(e,t,l)=>hl(hl(hl(W,T(e)),T(t)),T(l)),Pt=()=>vl(U),Nt=()=>cl(U),Lt=e=>hl(U,T(e)),Et=()=>!rl(W),jt=e=>sl(W,T(e)),zt=(e,t)=>sl(hl(H,T(e)),T(t)),$t=(e,t)=>sl(hl(W,T(e)),T(t)),At=(e,t,l)=>sl(hl(hl(W,T(e)),T(t)),T(l)),Jt=()=>!rl(U),Bt=e=>sl(U,T(e)),Dt=e=>kt((()=>(e=>fe(e,je,pt))(e)?We(e):0)),Ft=e=>kt((()=>Ae(e)?Ze(e):0)),Qt=e=>{try{He(Ie(e))}catch(e){}return Tl},Ht=t=>kt((()=>{if((e=fe(t,(e=>fe(e,Le))))&&(Fe(t),!rl(W))){const e=xt();Ut(),Dt(e)}})),Wt=e=>kt((()=>{if(t=(e=>fe(e,Le))(e)){const l=Pt();Zt(),Xt(),t=!0,Qe(e),Ft(l)}})),Ut=()=>kt((()=>We({}))),Gt=e=>kt((e=>sl(W,e)?tt(e):0),e),Kt=(e,t)=>kt(((e,t)=>N(hl(W,e),(l=>sl(l,t)?rt(e,l,t):0))),e,t),Xt=()=>kt((()=>Ze({}))),Yt=()=>kt((()=>{Fe({}),e=!1})),Zt=()=>kt((()=>{Qe({}),t=!1})),_t=(e,t)=>{if(-1!=s){al();const l=e();return kl(t),l}},al=()=>{var e;return-1!=s&&s++,1==s&&(null==(e=r[0])||e.call(r),Me(Re)),Tl},kl=e=>{var t,o;return s>0&&(s--,0==s&&(s=1,ft(1),rl(V)||wt(1),yt(1),rl(O)||Ct(1),(null==e?void 0:e(Tl))&&(il(V,((e,t)=>il(e,((e,l)=>il(e,(([e],n)=>nt(Tl,t,l,n,e))))))),ol(V),il(O,(([e],t)=>st(Tl,t,e))),ol(O)),Me(Oe[0],void 0),s=-1,ft(0),rl(V)||wt(0),yt(0),rl(O)||Ct(0),null==(t=r[1])||t.call(r),Me(Oe[1],void 0),null==(o=r[2])||o.call(r),s=0,l=Et(),n=Jt(),ee([a,i,h,x,S,V,q,R,O,M],ol))),Tl},Tl={getContent:()=>[xt(),Pt()],getTables:xt,getTableIds:St,getTable:e=>fl(hl(W,T(e))),getTableCellIds:Tt,getRowCount:Vt,getRowIds:Rt,getSortedRowIds:Ot,getRow:(e,t)=>vl(hl(hl(W,T(e)),T(t))),getCellIds:qt,getCell:Mt,getValues:Pt,getValueIds:Nt,getValue:Lt,hasTables:Et,hasTable:jt,hasTableCell:zt,hasRow:$t,hasCell:At,hasValues:Jt,hasValue:Bt,getTablesJson:()=>we(W),getValuesJson:()=>we(U),getJson:()=>we([W,U]),getTablesSchemaJson:()=>we(A),getValuesSchemaJson:()=>we(B),getSchemaJson:()=>we([A,B]),hasTablesSchema:()=>e,hasValuesSchema:()=>t,setContent:e=>kt((()=>{const t=E(e)?e():e;Ee(t)&&(([e,t])=>{(ve(e)?Ut:Dt)(e),(ve(t)?Xt:Ft)(t)})(t)})),setTables:Dt,setTable:(e,t)=>kt((e=>je(t,e)?Ue(e,t):0),e),setRow:(e,t,l)=>kt(((e,t)=>ze(e,t,l)?Ge(e,et(e),t,l):0),e,t),addRow:(e,t,l=!0)=>_t((()=>{let n;return ze(e,n,t)&&(e=T(e),Ge(e,et(e),n=((e,t)=>{const[l]=hl(Q,e);let n;do{n=l(t)}while(sl(hl(W,e),n));return n})(e,l?1:0),t)),n})),setPartialRow:(e,t,l)=>kt(((e,t)=>{if(ze(e,t,l,1)){const n=et(e);ge(l,((l,s)=>Xe(e,n,t,s,l)))}}),e,t),setCell:(e,t,l,n)=>kt(((e,t,l)=>N($e(e,t,l,E(n)?n(Mt(e,t,l)):n),(n=>Xe(e,et(e),t,l,n)))),e,t,l),setValues:Ft,setPartialValues:e=>kt((()=>Ae(e,1)?ge(e,((e,t)=>_e(t,e))):0)),setValue:(e,t)=>kt((e=>N(Je(e,E(t)?t(Lt(e)):t),(t=>_e(e,t)))),e),applyChanges:e=>kt((()=>{ge(e[0],((e,t)=>P(e)?Gt(t):ge(e,((e,l)=>P(e)?Kt(t,l):ge(e,((e,n)=>nt(Tl,t,l,n,e))))))),ge(e[1],((e,t)=>st(Tl,t,e)))})),setTablesJson:Qt,setValuesJson:e=>{try{Ye(Ie(e))}catch(e){}return Tl},setJson:e=>kt((()=>{try{const[t,l]=Ie(e);He(t),Ye(l)}catch(t){Qt(e)}})),setTablesSchema:Ht,setValuesSchema:Wt,setSchema:(e,t)=>kt((()=>{Ht(e),Wt(t)})),delTables:Ut,delTable:Gt,delRow:Kt,delCell:(e,t,l,n)=>kt(((e,t,l)=>N(hl(W,e),(s=>N(hl(s,t),(r=>sl(r,l)?at(e,s,t,r,l,n):0))))),e,t,l),delValues:Xt,delValue:e=>kt((e=>sl(U,e)?ot(e):0),e),delTablesSchema:Yt,delValuesSchema:Zt,delSchema:()=>kt((()=>{Yt(),Zt()})),transaction:_t,startTransaction:al,getTransactionChanges:()=>[vl(V,((e,t)=>-1===hl(a,t)?void 0:vl(e,((e,l)=>-1===hl(hl(x,t),l)?void 0:vl(e,(([,e])=>e),(e=>Fl(e)))),rl,ve)),rl,ve),vl(O,(([,e])=>e),(e=>Fl(e))),1],getTransactionLog:()=>[!rl(V),!rl(O),yl(V,Dl,Fl),yl(q),vl(O,Dl,Fl),vl(M),vl(a),fl(x),yl(S),vl(R)],finishTransaction:kl,forEachTable:e=>il(W,((t,l)=>e(l,(e=>il(t,((t,l)=>e(l,(e=>ml(t,e))))))))),forEachTableCell:(e,t)=>ml(hl(H,T(e)),t),forEachRow:(e,t)=>il(hl(W,T(e)),((e,l)=>t(l,(t=>ml(e,t))))),forEachCell:(e,t,l)=>ml(hl(hl(W,T(e)),T(t)),l),forEachValue:e=>ml(U,e),addSortedRowIdsListener:(e,t,l,n,s,r,a)=>{let o=Ot(e,t,l,n,s);return qe((()=>{const a=Ot(e,t,l,n,s);var i,u,d;u=o,$(i=a)===$(u)&&(d=(e,t)=>u[t]===e,i.every(d))||(o=a,r(Tl,e,t,l,n,s,o))}),oe[a?1:0],[e,t],[St])},addStartTransactionListener:e=>qe(e,Re),addWillFinishTransactionListener:e=>qe(e,Oe[0]),addDidFinishTransactionListener:e=>qe(e,Oe[1]),callListener:e=>(Ne(e),Tl),delListener:e=>(Pe(e),Tl),getListenerStats:()=>({hasTables:Jl(G),tables:Jl(K),tableIds:Jl(X),hasTable:Jl(Y),table:Jl(Z),tableCellIds:Jl(le),hasTableCell:Jl(se,ll),rowCount:Jl(re),rowIds:Jl(ae),sortedRowIds:Jl(oe),hasRow:Jl(ie,ll),row:Jl(ue,ll),cellIds:Jl(de,ll),hasCell:Jl(he,nl),cell:Jl(be,nl),invalidCell:Jl(ye,nl),hasValues:Jl(ke),values:Jl(xe),valueIds:Jl(Se),hasValue:Jl(Te),value:Jl(Ve),invalidValue:Jl(Ce),transaction:tl(Re)+Jl(Oe)}),isMergeable:()=>!1,createStore:Hl,addListener:qe,callListeners:Me,setInternalListeners:(e,t,l,n,s)=>r=[e,t,l,n,s]};return ge({[c+p]:[0,G,[],()=>[Et()]],[p]:[0,K],[b]:[0,X],[c+m]:[1,Y,[St],e=>[jt(...e)]],[m]:[1,Z,[St]],[m+I]:[1,le,[St]],[c+m+y]:[2,se,[St,Tt],e=>[zt(...e)]],[v]:[1,re,[St]],[f]:[1,ae,[St]],[c+g]:[2,ie,[St,Rt],e=>[$t(...e)]],[g]:[2,ue,[St,Rt]],[I]:[2,de,[St,Rt]],[c+y]:[3,he,[St,Rt,qt],e=>[At(...e)]],[y]:[3,be,[St,Rt,qt],e=>Al(Mt(...e))],InvalidCell:[3,ye],[c+C]:[0,ke,[],()=>[Jt()]],[C]:[0,xe],[k]:[0,Se],[c+w]:[1,Te,[Nt],e=>[Bt(...e)]],[w]:[1,Ve,[Nt],e=>Al(Lt(e[0]))],InvalidValue:[1,Ce]},(([e,t,l,n],s)=>{Tl["add"+s+"Listener"]=(...s)=>qe(s[e],t[s[e+1]?1:0],e>0?z(s,0,e):void 0,l,n)})),ce(Tl)};e.Inspector=({position:e="right",open:t=!1})=>{const n=l.useCreateStore(Hl),s=xe.indexOf(e);return l.useCreatePersister(n,(e=>{return t=Ce,l=sessionStorage,((e,t,l,n,s,r,a,o={},i=0,u=[])=>{let d,c,h,m=0,p=0,b=0;bl(El,u,(()=>0)),bl(jl,u,(()=>[]));const g=dl(),[v,f,y,I,w]=((e=1,t,l)=>1!=e&&t.isMergeable()?[1,t.getMergeableContent,()=>t.getTransactionMergeableChanges(!l),([[e],[t]])=>!ve(e)||!ve(t),t.setDefaultContent]:2!=e?[0,t.getContent,t.getTransactionChanges,([e,t])=>!ve(e)||!ve(t),t.setContent]:A("Store type not supported by this Persister"))(a,e,i),[C,k,x]=Rl((()=>N)),S=e=>{e!=m&&(m=e,k(g,void 0,m))},T=t=>{(v&&j(null==t?void 0:t[0])?1===(null==t?void 0:t[2])?e.applyMergeableChanges:e.setMergeableContent:1===(null==t?void 0:t[2])?e.applyChanges:e.setContent)(t)},V=e=>Ll(void 0,null,(function*(){return 2!=m&&(S(1),p++,yield M((()=>Ll(void 0,null,(function*(){try{const l=yield t();j(l)?T(l):e?w(e):A("Content is not an array: "+l)}catch(t){e&&w(e)}S(0)}))))),N})),R=()=>(c&&(s(c),c=void 0),N),O=e=>Ll(void 0,null,(function*(){return 1!=m&&(S(2),b++,yield M((()=>Ll(void 0,null,(function*(){try{yield l(f,e)}catch(e){}S(0)}))))),N})),q=()=>(h&&(e.delListener(h),h=void 0),N),M=(...e)=>Ll(void 0,null,(function*(){return ne(hl(jl,u),...e),yield Ll(void 0,null,(function*(){if(!hl(El,u)){for(pl(El,u,1);!P(d=se(hl(jl,u)));)try{yield d()}catch(e){}pl(El,u,0)}})),N})),N=((e,t)=>{for(var l in t||(t={}))Ml.call(t,l)&&Nl(e,l,t[l]);if(ql)for(var l of ql(t))Pl.call(t,l)&&Nl(e,l,t[l]);return e})({load:V,startAutoLoad:e=>Ll(void 0,null,(function*(){R(),yield V(e);try{c=yield n(((e,t)=>Ll(void 0,null,(function*(){t||e?2!=m&&(S(1),p++,T(null!=t?t:e),S(0)):yield V()}))))}catch(e){}return N})),stopAutoLoad:R,isAutoLoading:()=>!P(c),save:O,startAutoSave:()=>Ll(void 0,null,(function*(){return q(),yield O(),h=e.addDidFinishTransactionListener((()=>{const e=y();I(e)&&O(e)})),N})),stopAutoSave:q,isAutoSaving:()=>!P(h),getStatus:()=>m,addStatusListener:e=>C(e,g),delListener:t=>(x(t),e),schedule:M,getStore:()=>e,destroy:()=>(hl(jl,u).splice(0,void 0),R().stopAutoSave()),getStats:()=>({loads:p,saves:b})},o);return ce(N)})(e,(()=>zl(void 0,null,(function*(){return e=l.getItem(t),Ie(e,((e,t)=>"￼"===t?void 0:t));var e}))),(e=>zl(void 0,null,(function*(){return l.setItem(t,(n=e(),ye(n,((e,t)=>void 0===t?"￼":t))));var n}))),(e=>{const n=n=>{if(n.storageArea===l&&n.key===t)try{e(Ie(n.newValue))}catch(t){e()}};return V.addEventListener($l,n),n}),(e=>V.removeEventListener($l,e)),0,3,{getStorageName:()=>t});var t,l}),void 0,(e=>{return l=function*(){yield e.load([{},{position:-1==s?1:s,open:!!t}]),yield e.startAutoSave()},new Promise(((e,t)=>{var n=e=>{try{r(l.next(e))}catch(e){t(e)}},s=e=>{try{r(l.throw(e))}catch(e){t(e)}},r=t=>t.done?e(t.value):Promise.resolve(t.value).then(n,s);r((l=l.apply(void 0,null)).next())}));var l})),F(B,null,F("aside",{id:Ce},F(et,{s:n}),F(Zt,{s:n})),F("style",null,_e))}},"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("../ui-react/index.js")):"function"==typeof define&&define.amd?define(["exports","react","../ui-react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).TinyBaseUiReactInspector={},e.React,e.TinyBaseUiReact);
