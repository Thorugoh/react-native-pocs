var e,l;e=this,l=function(e){"use strict";const l=e=>typeof e,t="tinybase",a="",n=",",d=l(a),o=l(!0),s=l(0),r="type",I="default",$="Listener",c="get",u="add",i="Has",b="Ids",p="Table",C=p+"s",h=p+b,m="Row",g=m+b,f="Sorted"+m+b,w="Cell",T=w+b,y="Value",v=y+"s",x=y+b,V="Transaction",R="Partial",A=(e,l=a,t)=>e.split(l,t),k=Promise,S=isFinite,P=e=>null==e,O=(e,l,t)=>P(e)?t?.():l(e),E=e=>e==d||e==o,N=e=>l(e)==d,D=e=>Array.isArray(e),L=(e,l,t)=>e.slice(l,t),j=e=>e.length,G=async e=>k.all(e),H=e=>{const t=l(e);return E(t)||t==s&&S(e)?t:void 0},M=(e,l)=>e.every(l),J=(e,l)=>e.sort(l),z=(e,l)=>e.forEach(l),W=(e,l=a)=>e.join(l),B=(e,l)=>e.map(l),F=(e,l)=>e.filter(l),U=(e,...l)=>e.push(...l),_=e=>e.pop(),Z=(e,...l)=>e.unshift(...l),Q=e=>e.shift(),q=Object,K=e=>q.getPrototypeOf(e),X=q.entries,Y=e=>!P(e)&&O(K(e),(e=>e==q.prototype||P(K(e))),(()=>!0)),ee=q.keys,le=q.freeze,te=(e,l)=>B(X(e),(([e,t])=>l(t,e))),ae=e=>j(ee(e)),ne=e=>Y(e)&&0==ae(e),de=(e,l)=>e?.has(l)??!1,oe=e=>[...e?.values()??[]],se=(e,l)=>e?.forEach(l),re=(e,l)=>e?.delete(l),Ie=e=>new Map(e),$e=(e,l)=>e?.get(l),ce=(e,l)=>se(e,((e,t)=>l(t,e))),ue=(e,l)=>B([...e?.entries()??[]],(([e,t])=>l(t,e))),ie=(e,l,t)=>P(t)?(re(e,l),e):e?.set(l,t),be=(e,l,t,a)=>(de(e,l)||ie(e,l,t()),$e(e,l)),pe=e=>e.toUpperCase(),Ce=e=>e.toLowerCase(),he="a ",me="A function for",ge=", and registers a listener so that any changes to that result will cause a re-render",fe="Callback",we="Changes",Te="Count",ye="Del",ve="Deps",xe=ve+"?: React.DependencyList",Ve="doRollback?: DoRollback",Re="actions: () => Return, "+Ve,Ae="export",ke="Id",Se="Invalid",Pe="Json",Oe=Ce($),Ee="?: ",Ne=" | undefined",De="NonNullable",Le="Props",je="Provider",Ge=`Registers a ${Oe} that will be called`,He="Represents",Me="rowId: "+ke,Je="Schema",ze="Set",We=", descending?: boolean, offset?: number, limit?: number",Be="[]",Fe="the Store",Ue=Ce(V),_e="Execute a "+Ue+" to make multiple mutations",Ze="Explicitly starts a "+Ue,Qe="Explicitly finishes a "+Ue,qe="the end of the "+Ue,Ke="void",Xe=" => "+Ke,Ye="WhenSet",el=" when setting it",ll=he+"string serialization of",tl=" ",al="Gets a callback that can ",nl="the ",dl=" the schema for",ol=(e=0)=>e?"the existence of ":"",sl=(e=0,l=0,t=0)=>ol(t)+`the ${xl[e]}content of`+(l?tl+Fe:a),rl=(e=0,l,t=0,n=0)=>Tl[l]+tl+ol(n)+sl(e,1)+(t?" when setting it":a),Il=(e,l=0)=>He+` a Row when ${l?"s":"g"}etting ${sl()} the '${e}' `+p,$l=(e,l,t=0)=>`Gets ${t?"sorted, paginated":"the"} Ids of the ${e}s in `+l,cl=(e,l)=>`Calls a function for each ${e} in `+l,ul=e=>"The props passed to a component that renders "+e,il=e=>"A function that takes "+e,bl=(e,l=0,t=0)=>me+" listening to changes to "+ol(t)+vl[e]+" in "+vl[l],pl=(e,l,t=0,n=0)=>Ge+" whenever "+ol(n)+vl[e]+" in "+vl[l]+" change"+(t?a:"s"),Cl=e=>`the '${e}' `+p,hl=e=>"the specified Row in "+Cl(e),ml=(e,l=0,t=0)=>Tl[l]+tl+sl(0,0,t)+tl+Cl(e),gl=(e,l=0,t=0)=>Tl[l]+` ${sl(0,0,t)} `+hl(e),fl=(e,l,t=0,a=0)=>Tl[t]+tl+ol(a)+`the '${l}' Cell for `+hl(e),wl=(e,l=0,t=0)=>Tl[l]+tl+ol(t)+`the '${e}' Value`,Tl=["Gets","Checks existence of","Sets","Deletes","Sets part of",He,"Gets "+ll,"Sets "+ll,Ge+" whenever",al+"set",al+"add",al+"set part of",al+"delete","Renders","Gets "+ll+dl,"Sets"+dl,"Deletes"+dl],yl=[c,"has","set","del","set","forEach",u,a],vl=[Fe,C,nl+p+tl+b,he+p,nl+m+tl+b,he+m,nl+w+tl+b,he+w,"invalid Cell changes",v,nl+y+tl+b,he+y,"invalid Value changes",nl+"sorted "+m+tl+b,nl+w+tl+b+" anywhere",nl+"number of Rows",he+w+" anywhere"],xl=[a,"tabular ","keyed value "],Vl=e=>new Set(D(e)||P(e)?e:[e]),Rl=(e,l)=>e?.add(l),Al=/[^A-Za-z]+/,kl=/[^A-Za-z0-9]+/,Sl=/^( *)\/\*\* *(.*?) *\*\/$/gm,Pl=e=>e.includes(n),Ol=(e,l,t,a=1)=>{const n=`${l}${1==a?"":a}`;return de(e,n)?Ol(e,l,t,a+1):(ie(e,n,t),n)},El=e=>e.replace(Sl,((e,l,t)=>{const a=77-j(l);return`${l}/**\n${t.replace(RegExp(`([^\\n]{1,${a}})(\\s|$)`,"g"),l+" * $1\n")}${l} */`})),Nl=e=>e.flat(1e3),Dl=(e,l=0)=>W(B(A(e,kl),((e,t)=>(t>0||l?pe:Ce)(L(e,0,1))+L(e,1)))),Ll=e=>pe(W(A(e&&!Al.test(e[0])?e:" "+e,kl),"_")),jl=e=>`/** ${e}. */`,Gl=(...e)=>W(F(e,(e=>e)),", "),Hl=(...e)=>"{"+W(e,"; ")+"}",Ml=(...e)=>Hl(...B(e,(e=>"readonly "+e))),Jl=()=>{const e=[Ie(),Ie(),Ie(),Ie()],l=Ie(),t=Ie(),n=e=>{const l=e.indexOf(" as ");return-1!=l?L(e,l+4):e};return[(...e)=>W(Nl(e),"\n"),(l,t,...a)=>z(a,(a=>z([0,1],(n=>(l??n)==n?Rl(be(e[n],t,Vl),a):0)))),(e,t,n,d=a,o=1)=>Ol(l,e,[t,n,d,o]),(e,l,a)=>Ol(t,e,D(a)?[`(${l}) => {`,a,"}"]:[`(${l}) => ${a}`]),(e,l)=>$e(t,e)===l?e:Ol(t,e,l),(l=0)=>B([...J(ue(e[l],((e,l)=>`import {${W(J(oe(e),((e,l)=>n(e)>n(l)?1:-1)),", ")}} from '${l}';`)),((e,l)=>Pl(e)!=Pl(l)?Pl(e)?-1:1:e>l?1:-1)),a],(e=>e.replace("{React}","React"))),()=>ue(l,(([e,l,t,n],d)=>[jl(l),`${n?Ae+" ":a}type ${d}${t} = ${e};`,a])),()=>ue(t,((e,l)=>(e=D(e)?e:[e],U(e,_(e)+";"),[`const ${l} = ${Q(e)}`,e,a])))]},zl=(e,l)=>{const t=new WeakMap;return l=>(t.has(l)||t.set(l,e(l)),t.get(l))},Wl=(e,l,t)=>[l=>te(e,((e,a)=>l(a,Dl(a,1),t(Ll(a),`'${a}'`)))),(l,a)=>te(e[l],((e,l)=>a(l,e[r],e[I],t(Ll(l),`'${l}'`),Dl(l,1)))),e=>te(l,((l,a)=>e(a,l[r],l[I],t(Ll(a),`'${a}'`),Dl(a,1))))],Bl=(e,l,t,n)=>[(n,d)=>{const o=n+": "+d,s=e(C,Hl(...l((e=>`'${e}'?: {[rowId: Id]: `+Hl(...t(e,((e,l,t)=>`'${e}'${P(t)?"?":a}: ${l}`)))+"}"))),rl(1,5)),r=e(C+Ye,Hl(...l((e=>`'${e}'?: {[rowId: Id]: `+Hl(...t(e,((e,l)=>`'${e}'?: ${l}`)))+"}"))),rl(1,5,1)),I=e(p+ke,"keyof "+s,"A "+p+" Id in "+Fe),c=`<TId extends ${I}>`,u=e(p,De+`<${s}[TId]>`,"A "+p+" in "+Fe,c),b=e(p+Ye,De+`<${r}[TId]>`,"A "+p+" in "+Fe+el,c),y=e(m,u+"<TId>[Id]","A "+m+" in a "+p,c),v=e(m+Ye,b+"<TId>[Id]","A "+m+" in a "+p+el,c),x=e(w+ke,`Extract<keyof ${y}<TId>, Id>`,"A "+w+" Id in a "+m,c),V=e(w,De+`<${s}[TId]>[Id][CId]`,"A "+w+" in a "+m,`<TId extends ${I}, CId extends ${x}<TId>>`),R=e("CellIdCellArray",`CId extends ${x}<TId> ? [cellId: CId, cell: ${V}<TId, CId>] : never`,w+" Ids and types in a "+m,`<TId extends ${I}, CId = ${x}<TId>>`,0),A=e(w+fe,`(...[cellId, cell]: ${R}<TId>)`+Xe,il(he+w+" Id, and "+w),c),k=e(m+fe,"(rowId: Id, forEachCell: (cellCallback: CellCallback<TId>) "+Xe+") "+Xe,il(he+m+" Id, and a "+w+" iterator"),c),S=e(p+w+fe,`(cellId: ${x}<TId>, count: number) `+Xe,il(he+w+" Id, and count of how many times it appears"),c),O=e("TableIdForEachRowArray",`TId extends ${I} ? [tableId: TId, forEachRow: (rowCallback: ${k}<TId>)${Xe}] : never`,p+" Ids and callback types",`<TId = ${I}>`,0),E=e(p+fe,`(...[tableId, forEachRow]: ${O})`+Xe,il(he+p+" Id, and a "+m+" iterator"),a),N=e("TableIdRowIdCellIdArray",`TId extends ${I} ? [tableId: TId, rowId: Id, cellId: ${x}<TId>] : never`,"Ids for GetCellChange",`<TId = ${I}>`,0),D=e("GetCellChange",`(...[tableId, rowId, cellId]: ${N}) => CellChange`,me+" returning information about any Cell's changes during a "+Ue),L=e(i+C+$,`(${o}, hasTables: boolean)`+Xe,bl(1,0,1)),j=e(C+$,`(${o}, getCellChange: ${D}${Ne})`+Xe,bl(1)),G=e(h+$,`(${o})`+Xe,bl(2)),H=e(i+p+$,`(${o}, tableId: ${I}, hasTable: boolean)`+Xe,bl(3,0,1)),M=e(p+$,`(${o}, tableId: ${I}, getCellChange: ${D}${Ne})`+Xe,bl(3)),J=e(p+T+$,`(${o}, tableId: ${I})`+Xe,bl(14,3)),z=e("HasTableCellListenerArgsArrayInner",`CId extends ${x}<TId> ? [${o}, tableId: TId, cellId: CId, hasTableCell: boolean] : never`,"Cell args for HasTableCellListener",`<TId extends ${I}, CId = ${x}<TId>>`,0),W=e("HasTableCellListenerArgsArrayOuter",`TId extends ${I} ? `+z+"<TId> : never","Table args for HasTableCellListener",`<TId = ${I}>`,0),B=e(i+p+w+$,`(...[${n}, tableId, cellId, hasTableCell]: `+W+")"+Xe,bl(16,3,1)),F=e(m+"Count"+$,`(${o}, tableId: ${I})`+Xe,bl(15,3)),U=e(g+$,`(${o}, tableId: ${I})`+Xe,bl(4,3)),_=e(f+$,"("+Gl(o,"tableId: "+I,"cellId: Id"+Ne,"descending: boolean","offset: number","limit: number"+Ne,"sortedRowIds: Ids")+")"+Xe,bl(13,3)),Z=e(i+m+$,"("+Gl(""+o,"tableId: "+I,Me,"hasRow: boolean")+")"+Xe,bl(5,3,1)),Q=e(m+$,"("+Gl(""+o,"tableId: "+I,Me,`getCellChange: ${D}${Ne}`)+")"+Xe,bl(5,3)),q=e(T+$,"("+Gl(""+o,"tableId: "+I,Me)+")"+Xe,bl(6,5)),K=e("HasCellListenerArgsArrayInner",`CId extends ${x}<TId> ? [${o}, tableId: TId, ${Me}, cellId: CId, hasCell: boolean] : never`,"Cell args for HasCellListener",`<TId extends ${I}, CId = ${x}<TId>>`,0),X=e("HasCellListenerArgsArrayOuter",`TId extends ${I} ? `+K+"<TId> : never","Table args for HasCellListener",`<TId = ${I}>`,0),Y=e(i+w+$,`(...[${n}, tableId, rowId, cellId, hasCell]: `+X+")"+Xe,bl(7,5,1)),ee=e("CellListenerArgsArrayInner",`CId extends ${x}<TId> ? [${o}, tableId: TId, ${Me}, cellId: CId, newCell: ${V}<TId, CId> ${Ne}, oldCell: ${V}<TId, CId> ${Ne}, getCellChange: ${D} ${Ne}] : never`,"Cell args for CellListener",`<TId extends ${I}, CId = ${x}<TId>>`,0),le=e("CellListenerArgsArrayOuter",`TId extends ${I} ? `+ee+"<TId> : never","Table args for CellListener",`<TId = ${I}>`,0);return[s,r,I,u,b,y,v,x,V,A,k,S,E,L,j,G,H,M,J,B,F,U,_,Z,Q,q,Y,e(w+$,`(...[${n}, tableId, rowId, cellId, newCell, oldCell, getCellChange]: ${le})`+Xe,bl(7,5)),e(Se+w+$,`(${o}, tableId: Id, ${Me}, cellId: Id, invalidCells: any[])`+Xe,bl(8))]},(l,t)=>{const d=l+": "+t,o=e(v,Hl(...n(((e,l,t)=>`'${e}'${P(t)?"?":a}: ${l}`))),rl(2,5)),s=e(v+Ye,Hl(...n(((e,l)=>`'${e}'?: ${l}`))),rl(2,5,1)),r=e(y+ke,"keyof "+o,"A "+y+" Id in "+Fe),I=e(y,De+`<${o}[VId]>`,"A "+y+" Id in "+Fe,`<VId extends ${r}>`),c=e("ValueIdValueArray",`VId extends ${r} ? [valueId: VId, value: ${I}<VId>] : never`,y+" Ids and types in "+Fe,`<VId = ${r}>`,0),u=e(y+fe,`(...[valueId, value]: ${c})`+Xe,il(he+y+" Id, and "+y)),b=e("GetValueChange",`(valueId: ${r}) => ValueChange`,me+" returning information about any Value's changes during a "+Ue),p=e(i+v+$,`(${d}, hasValues: boolean)`+Xe,bl(9,0,1)),C=e(v+$,`(${d}, getValueChange: ${b}${Ne})`+Xe,bl(9)),h=e(x+$,`(${d})`+Xe,bl(10)),m=e(i+y+$,`(${d}, valueId: ValueId, hasValue: boolean)`+Xe,bl(11,0,1)),g=e("ValueListenerArgsArray",`VId extends ${r} ? [${d}, valueId: VId, newValue: ${I}<VId> ${Ne}, oldValue: ${I}<VId> ${Ne}, getValueChange: ${b} ${Ne}] : never`,"Value args for ValueListener",`<VId = ${r}>`,0);return[o,s,r,I,u,p,C,h,m,e(y+$,`(...[${l}, valueId, newValue, oldValue, getValueChange]: `+g+")"+Xe,bl(11)),e(Se+y+$,`(${d}, valueId: Id, invalidValues: any[])`+Xe,bl(12))]},(l,t)=>e(V+$,`(${l}: ${t})`+Xe,me+" listening to the completion of a "+Ue)],Fl=(e,l=a,t=a)=>`store.${e}(${l})`+(t?" as "+t:a),Ul=(e,l=a)=>`fluent(() => ${Fl(e,l)})`,_l=(e,l=a,t=a)=>`store.${e}(${l?l+", ":a}proxy(listener)${t?", "+t:a})`,Zl=(e,l,n)=>{const[d,s,c,A,k,S,O,E]=Jl(),[D,L,j]=Wl(e,l,k),[G,H,M]=Bl(c,D,L,j),J=Ie(),B=(e=0)=>ue(J,(([l,t,n,d,o],s)=>{const r=e?[s+`: ${o}(${l}): ${t} => ${n},`]:[s+o+`(${l}): ${t};`];return e||Z(r,jl(d)),U(r,a),r})),F=(e,l,t,n,d,o=a)=>Ol(J,e,[l,t,n,d,o]),_=(e,l,t,n,d,o=a,s=a,r=a)=>F(yl[e]+l+(4==e?R:a)+t,o,n,(n==K?Ul:Fl)(yl[e]+(4==e?R:a)+t,s,e?void 0:n),d,r),Q=(e,l,t,n=a,d=a,o=1,s=a)=>F(u+e+$,(n?n+", ":a)+Oe+": "+l+(o?", mutator?: boolean":a),ke,_l(u+e+$,d,o?"mutator":a),t,s),q=`./${Dl(n)}.d`,K=Dl(n,1),X=Dl(K),Y=[],ee=Ie();let le=[],te=[];if(s(1,q,K,`create${K} as create${K}Decl`),ne(e))s(null,t,C);else{s(0,t,"CellChange"),s(null,t,b);const[e,l,n,d,$,u,y,v,x,V,R,A,S,O,E,j,H,M,J,B,F,Z,te,ae,ne,de,se,re,ce]=G(X,K),ue=Ie();D(((e,l)=>{const t=`<'${e}'>`,a=[c(l+p,d+t,He+` the '${e}' `+p),c(l+p+Ye,$+t,He+` the '${e}' `+p+el),c(l+m,u+t,Il(e)),c(l+m+Ye,y+t,Il(e,1)),c(l+w+ke,v+t,`A Cell Id for the '${e}' `+p),c(l+w+fe,V+t,il(`a Cell Id and value from a Row in the '${e}' `+p)),c(l+m+fe,R+t,il(`a Row Id from the '${e}' Table, and a Cell iterator`)),c(l+p+w+fe,A+t,il(`a Cell Id from anywhere in the '${e}' Table, and a count of how many times it appears`))];ie(ue,e,a),s(1,q,...a)})),s(1,q,e,l,n,v,S,O,E,j,H,M,J,B,F,Z,te,ae,ne,de,se,re,ce),le=[e,l,n,v,O,E,j,H,M,J,B,F,Z,te,ae,ne,de,se,re,ue],z([[e],[o],[K,"tables: "+l,"tables"],[K]],(([e,l,t],n)=>_(n,a,C,e,rl(1,n),l,t))),_(0,a,h,n+Be,$l(p,Fe)),_(5,a,p,Ke,cl(p,Fe),"tableCallback: "+S,"tableCallback as any"),D(((e,l,t)=>{const[n,d,s,r,I,$,c,u]=$e(ue,e);z([[n],[o],[K,"table: "+d,", table"],[K]],(([n,d,o=a],s)=>_(s,l,p,n,ml(e,s),d,t+o))),_(0,l,p+T,b,$l(w,"the whole of "+Cl(e)),a,t),_(5,l,p+w,Ke,cl(p+w,"the whole of "+Cl(e)),"tableCellCallback: "+u,t+", tableCellCallback as any"),_(0,l,m+Te,"number","Gets the number of Rows in the "+Cl(e),a,t),_(0,l,g,b,$l(m,Cl(e)),a,t),_(0,l,f,b,$l(m,Cl(e),1),"cellId?: "+I+We,t+", cellId, descending, offset, limit"),_(5,l,m,Ke,cl(m,Cl(e)),"rowCallback: "+c,t+", rowCallback as any"),z([[s],[o],[K,", row: "+r,", row"],[K],[K,", partialRow: "+r,", partialRow"]],(([n,d=a,o=a],s)=>_(s,l,m,n,gl(e,s),Me+d,t+", rowId"+o))),_(6,l,m,ke+Ne,"Add a new Row to "+Cl(e),"row: "+r+", reuseIds?: boolean",t+", row, reuseIds"),_(0,l,T,I+Be,$l(w,hl(e)),Me,t+", rowId"),_(5,l,w,Ke,cl(w,hl(e)),Me+", cellCallback: "+$,t+", rowId, cellCallback as any"),L(e,((n,d,s,r,I)=>{const $="Map"+Dl(d,1);ie(ee,d,$);const c=d+(P(s)?Ne:a);z([[c],[o],[K,`, cell: ${d} | `+$,", cell as any"],[K]],(([d,o=a,s=a],$)=>_($,l+I,w,d,fl(e,n,$),Me+o,t+", rowId, "+r+s))),_(1,l+I,p+w,o,Tl[1]+` the '${n}' Cell anywhere in `+Cl(e),a,t+", "+r)}))})),_(0,a,C+Pe,Pe,rl(1,6)),_(2,a,C+Pe,K,rl(1,7),"tablesJson: "+Pe,"tables"+Pe),Q(i+C,O,rl(1,8,0,1)+" changes"),Q(C,E,rl(1,8)+" changes"),Q(h,j,pl(2,0,1)),Q(i+p,H,pl(3,0,0,1),`tableId: ${n} | null`,"tableId"),Q(p,M,pl(3,0),`tableId: ${n} | null`,"tableId"),Q(p+T,J,pl(14,3,1),`tableId: ${n} | null`,"tableId"),Q(i+p+w,B,pl(16,3,0,1),`tableId: ${n} | null, cellId: ${W(D((e=>$e(ue,e)?.[4]??a))," | ")} | null`,"tableId,  cellId"),Q(m+Te,F,pl(15,3),`tableId: ${n} | null`,"tableId"),Q(g,Z,pl(4,3,1),`tableId: ${n} | null`,"tableId"),Q(f,te,pl(13,3,1),Gl("tableId: TId",`cellId: ${v}<TId>`+Ne,"descending: boolean","offset: number","limit: number"+Ne),Gl("tableId","cellId","descending","offset","limit"),1,"<TId extends TableId>"),Q(i+m,ae,pl(5,3,0,1),`tableId: ${n} | null, rowId: IdOrNull`,"tableId, rowId"),Q(m,ne,pl(5,3),`tableId: ${n} | null, rowId: IdOrNull`,"tableId, rowId"),Q(T,de,pl(6,5,1),`tableId: ${n} | null, rowId: IdOrNull`,"tableId, rowId"),Q(i+w,se,pl(7,5,0,1),`tableId: ${n} | null, rowId: IdOrNull, cellId: ${W(D((e=>$e(ue,e)?.[4]??a))," | ")} | null`,"tableId, rowId, cellId"),Q(w,re,pl(7,5),`tableId: ${n} | null, rowId: IdOrNull, cellId: ${W(D((e=>$e(ue,e)?.[4]??a))," | ")} | null`,"tableId, rowId, cellId"),Q(Se+w,ce,Ge+" whenever an invalid Cell change was attempted","tableId: IdOrNull, rowId: IdOrNull, cellId: IdOrNull","tableId, rowId, cellId"),s(1,q,...oe(ee)),U(Y,".set"+C+Je+"({",Nl(D(((e,l,t)=>[`[${t}]: {`,...L(e,((e,l,t,n)=>`[${n}]: {[${k(Ll(r),`'${r}'`)}]: ${k(Ll(l),`'${l}'`)}${P(t)?a:`, [${k(Ll(I),`'${I}'`)}]: `+(N(t)?k(Ll(t),`'${t}'`):t)}},`)),"},"]))),"})")}if(ne(l))s(null,t,v);else{const[e,l,n,d,$,c,u,b,p,C,h]=H(X,K);s(1,q,e,l,n,$,c,u,b,p,C,h),te=[e,l,n,c,u,b,p,C],z([[e],[o],[K,"values: "+l,"values"],[K],[K,"partialValues: "+l,"partialValues"]],(([e,l,t],n)=>_(n,a,v,e,rl(2,n),l,t))),_(0,a,x,n+Be,$l(y,Fe)),_(5,a,y,"void",cl(y,Fe),"valueCallback: "+$,"valueCallback as any"),j(((e,l,t,n,d)=>{const s="Map"+Dl(l,1);ie(ee,l,s),z([[l],[o],[K,`value: ${l} | `+s,", value as any"],[K]],(([l,t,o=a],s)=>_(s,d,y,l,wl(e,s),t,n+o)))})),_(0,a,v+Pe,Pe,rl(2,6)),_(2,a,v+Pe,K,rl(2,7),"valuesJson: "+Pe,"values"+Pe),Q(i+v,c,rl(2,8,0,1)+" changes"),Q(v,u,rl(2,8)+" changes"),Q(x,b,pl(10,0,1)),Q(i+y,p,pl(11,0,0,1),`valueId: ${n} | null`,"valueId"),Q(y,C,pl(11,0),`valueId: ${n} | null`,"valueId"),Q(Se+y,h,Ge+" whenever an invalid Value change was attempted","valueId: IdOrNull","valueId"),s(1,q,...oe(ee)),s(0,t,"ValueChange"),U(Y,".set"+v+Je+"({",j(((e,l,t,n)=>[`[${n}]: {[${k(Ll(r),`'${r}'`)}]: ${k(Ll(l),`'${l}'`)}${P(t)?a:`, [${k(Ll(I),`'${I}'`)}]: `+(N(t)?k(Ll(t),`'${t}'`):t)}},`])),"})")}_(0,a,"Content",`[${C}, ${v}]`,rl(0,0)),_(2,a,"Content",K,rl(0,2),`[tables, values]: [${C}, ${v}]`,"[tables, values]"),_(7,a,"applyChanges",K,`Applies a set of ${we} to the Store`,"changes: "+we,"changes"),ce(ee,((e,l)=>c(l,`(cell: ${e}${Ne}) => `+e,`Takes a ${e} Cell value and returns another`))),s(null,t,"DoRollback",ke,"IdOrNull",Pe,"Store",we),_(0,a,Pe,Pe,rl(0,6)),_(2,a,Pe,K,rl(0,7),"tablesAndValuesJson: "+Pe,"tablesAndValuesJson"),_(7,a,Ue,"Return",_e,Re,"actions, doRollback","<Return>"),_(7,a,"start"+V,K,Ze),_(7,a,"finish"+V,K,Qe,Ve,"doRollback");const ae=M(X,K);return Q("Start"+V,ae,Ge+" just before the start of the "+Ue,a,a,0),Q("WillFinish"+V,ae,Ge+" just before "+qe,a,a,0),Q("DidFinish"+V,ae,Ge+" just after "+qe,a,a,0),_(7,a,"call"+$,K,"Manually provoke a listener to be called","listenerId: Id","listenerId"),_(3,a,$,K,"Remove a listener that was previously added to "+Fe,"listenerId: Id","listenerId"),F("getStore",a,"Store","store",Tl[0]+" the underlying Store object"),s(1,t,"createStore"),s(1,q,K,`create${K} as create${K}Decl`,ae),k("store",["createStore()",...Y]),A("fluent","actions: () => Store",["actions();",`return ${X};`]),A("proxy","listener: any",`(_: Store, ...params: any[]) => listener(${X}, ...params)`),k(X,["{",...B(1),"}"]),[d(...S(0),...O(),Ae+" interface "+K+" {",...B(0),"}",a,jl(`Creates a ${K} object`),Ae+" function create"+K+"(): "+K+";"),d(...S(1),Ae+" const create"+K+": typeof create"+K+"Decl = () => {",...E(),`return Object.freeze(${X});`,"};"),le,te]},Ql=e=>c+e,ql=e=>Gl(Ql(e),Ql(e)+ve),Kl="debugIds?: boolean",Xl="debugIds={debugIds}",Yl="then"+xe,et="Parameter",lt=": (parameter: "+et+", store: Store) => ",tt="const contextValue = useContext(Context);",at=", based on a parameter",nt=": ",dt="<"+et+",>",ot=et+"ized"+fe+"<"+et+">",st="rowId",rt="rowId={rowId}",It=", separator, debugIds",$t="separator?: ReactElement | string",ct="then?: (store: Store",ut=Gl(ct+")"+Xe,Yl),it="then, then"+ve,bt=st+nt+ke,pt="View",Ct=(e,...l)=>Gl(...l,Oe+": "+e,Oe+xe,"mutator?: boolean"),ht=(...e)=>Gl(...e,Oe,Oe+ve,"mutator"),mt=(e,l,n,d,r)=>{const[I,c,u,V,A,k,S,O]=Jl(),[E,N,D]=Wl(e,l,A),L=`./${Dl(n)}.d`,j=`./${Dl(n)}-ui-react.d`,G="tinybase/ui-react",H=Dl(n,1),M=Dl(H),J=H+"Or"+H+ke,z=M+"Or"+H+ke,B=M+`={${M}}`,F=Ie(),_=(e,l,t,n,d,o=a)=>(c(1,j,e+" as "+e+"Decl"),Ol(F,e,[l,t,n,d,o])),Q=(e,l,t,n,d,o=a)=>_("use"+e,l,t,n,d,o),q=(e,l,t,n,d=a,o=a,s=a,r=a,I=a)=>(c(1,G,`use${l} as use${l}Core`),Q(e,Gl(d,le,r),t,ae+`(${z}, use${l}Core, [`+(o||a)+(I?"], ["+I:a)+"]);",n,s)),K=(e,l,t,a)=>_(e,l,1,t,a),X=(e=0)=>ue(F,(([l,t,n,d,o],s)=>{const r=e?[Ae+` const ${s}: typeof ${s}Decl = ${o}(${l}): ${1==t?"any":t} =>`,n]:[Ae+` function ${s}${o}(${l}): ${1==t?"ComponentReturnType":t};`];return e||Z(r,jl(d)),U(r,a),r}));c(null,t,ke,"Store",fe,et+"ized"+fe),c(0,G,"ComponentReturnType"),c(1,G,"useCellIds"),c(null,G,"ExtraProps"),c(0,L,H);const Y=u(J,H+" | "+ke,`Used when you need to refer to a ${H} in a React hook or component`),ee=u(je+Le,Ml(M+Ee+H,M+`ById?: {[${M}Id: Id]: ${H}}`),`Used with the ${je} component, so that a `+H+" can be passed into the context of an application");c(0,"react","ReactElement","ComponentType"),c(1,"react","React"),c(1,j,Y,ee);const le=z+Ee+Y;A("{createContext, useContext, useMemo}","React"),A("Context",`createContext<[${H}?, {[${M}Id: Id]: ${H}}?]>([])`),Q("Create"+H,`create: () => ${H}, create`+xe,H,"\n// eslint-disable-next-line react-hooks/exhaustive-deps\nuseMemo(create, createDeps)",`Create a ${H} within a React application with convenient memoization`);const te=Q(H,"id?: Id",H+Ne,["{",tt,"return id == null ? contextValue[0] : contextValue[1]?.[id];","}"],`Get a reference to a ${H} from within a ${je} component context`),ae=V("useHook",z+`: ${Y} | undefined, hook: (...params: any[]) => any, preParams: any[], postParams: any[] = []`,[`const ${M} = ${te}(${z} as Id);`,`return hook(...preParams, ((${z} == null || typeof ${z} == 'string')`,`? ${M} : ${z})?.getStore(), ...postParams)`]),de=V("getProps","getProps: ((id: any) => ExtraProps) | undefined, id: Id","(getProps == null) ? ({} as ExtraProps) : getProps(id)"),oe=V("wrap",Gl("children: any","separator?: any","encloseWithId?: boolean","id?: Id"),["const separated = separator==null || !Array.isArray(children)"," ? children"," : children.map((child, c) => (c > 0 ? [separator, child] : child));","return encloseWithId ? [id, ':{', separated, '}'] : separated;"]),se=V("useCustomOrDefaultCellIds",Gl("customCellIds: Ids | undefined","tableId: Id","rowId: Id",`${z}?: ${Y} | undefined`),[`const defaultCellIds = ${ae}(${z}, useCellIds, [tableId, rowId]);`,"return customCellIds ?? defaultCellIds;"]),re=A("NullComponent","() => null");if(!ne(e)){const[e,l,n,r,I,y,v,x,A,k,S,O,D,G,J,z,F,U,_,Z]=d;c(null,L,e,l,n,I,y,v,x,A,k,S,O,D,G,J,z,F,_,U),c(0,L,r),c(1,L,H),c(null,t,b,"IdOrNull");const Q=V("tableView",`{${M}, rowComponent, getRowComponentProps, customCellIds`+It+"}: any, rowIds: Ids, tableId: Id, defaultRowComponent: React.ComponentType<any>",["const Row = rowComponent ?? defaultRowComponent;",`return ${oe}(rowIds.map((rowId) => (`,"<Row","{..."+de+"(getRowComponentProps, rowId)}","key={rowId}","tableId={tableId}",rt,"customCellIds={customCellIds}",B,Xl,"/>","))",It,", tableId,",");"]),X=V("getDefaultTableComponent","tableId: Id",W(E(((e,l,t)=>`tableId == ${t} ? ${l}TableView : `)))+re),Y=V("getDefaultCellComponent","tableId: Id, cellId: Id",W(E(((e,l,t)=>`tableId == ${t} ? ${W(N(e,((e,t,a,n,d)=>`cellId == ${n} ? `+l+d+"CellView : ")))+re} : `)))+re);q(i+C,i+C,o,rl(1,0,0,1)+ge),q(C,C,e,rl(1,0)+ge);const ee=q(h,h,n+Be,$l(p,Fe)+ge);q(ze+C+fe,ze+C+fe,ot,rl(1,9)+at,Gl(Ql(C)+lt+l,Ql(C)+xe),ql(C),dt,Gl(ct,`tables: ${l})`+Xe,Yl),it),q(ye+C+fe,ye+C+fe,fe,rl(1,12),a,a,a,ut,it);const le=u(w+Le,Ml("tableId?: TId","rowId: Id","cellId?: CId",M+Ee+H,Kl),ul(he+w),`<TId extends ${n}, CId extends ${r}<TId>>`),te=u(m+Le,Ml("tableId?: TId","rowId: Id",M+Ee+H,"cellComponents?: {readonly [CId in "+r+`<TId>]?: ComponentType<${le}<TId, CId>>;}`,`getCellComponentProps?: (cellId: ${r}<TId>) => ExtraProps`,`customCellIds?: ${r}<TId>[]`,$t,Kl),ul(he+m),`<TId extends ${n}>`),ae=u(p+Le,Ml("tableId?: TId",M+Ee+H,`rowComponent?: ComponentType<${te}<TId>>`,"getRowComponentProps?: (rowId: Id) => ExtraProps","customCellIds?: CellId<TId>[]",$t,Kl),ul(he+p),`<TId extends ${n}>`),ne=u("Sorted"+p+Le,Ml("tableId?: TId","cellId?: "+r+"<TId>","descending?: boolean","offset?: number","limit?: number",M+Ee+H,`rowComponent?: ComponentType<${te}<TId>>`,"getRowComponentProps?: (rowId: Id) => ExtraProps","customCellIds?: CellId<TId>[]",$t,Kl),ul(he+"sorted "+p),`<TId extends ${n}>`),Ie=u(C+Le,Ml(M+Ee+H,"tableComponents?: {readonly [TId in "+n+`]?: ComponentType<${ae}<TId>>;}`,`getTableComponentProps?: (tableId: ${n}) => ExtraProps`,$t,Kl),ul(sl(1,1)));c(1,j,Ie,ae,ne,te,le),K(C+pt,"{"+M+", tableComponents, getTableComponentProps"+It+"}: "+Ie,[oe+`(${ee}(${M}).map((tableId) => {`,"const Table = (tableComponents?.[tableId] ?? "+X+"(tableId)) as React.ComponentType<TableProps<typeof tableId>>;","return <Table",`{...${de}(getTableComponentProps, tableId)}`,"tableId={tableId}","key={tableId}",B,Xl,"/>;","}), separator)"],rl(1,13)+ge),E(((e,l,t)=>{const[n,d,r,I,$]=$e(Z,e);c(null,L,n,d,r,I,$),q(i+l+p,i+p,o,ml(e,0,1)+ge,a,t),q(l+p,p,n,ml(e)+ge,a,t),q(l+p+T,p+T,b,$l(w,"the whole of "+Cl(e))+ge,a,t),q(l+m+Te,m+Te,s,"Gets the number of Rows in "+Cl(e)+ge,a,t);const u=q(l+g,g,b,$l(m,Cl(e))+ge,a,t),C=q(l+f,f,b,$l(m,Cl(e),1)+ge,"cellId?: "+$+", descending?: boolean, offset?: number, limit?: number",t+", cellId, descending, offset, limit");q(i+l+m,i+m,o,gl(e,0,1)+ge,bt,Gl(t,st)),q(l+m,m,r,gl(e)+ge,bt,Gl(t,st)),q(l+T,T,$+Be,$l(w,hl(e))+ge,bt,Gl(t,st)),q(ze+l+p+fe,ze+p+fe,ot,ml(e,9)+at,Gl(Ql(p)+lt+d,Ql(p)+xe),Gl(t,ql(p)),dt,Gl(ct,`table: ${d})`+Xe,Yl),it),q(ye+l+p+fe,ye+p+fe,fe,ml(e,12),a,t,a,ut,it),q(ze+l+m+fe,ze+m+fe,ot,gl(e,9)+at,Gl(bt,Ql(m)+lt+I,Ql(m)+xe),Gl(t,st,ql(m)),dt,Gl(ct,`row: ${I})`+Xe,Yl),it),q("Add"+l+m+fe,"Add"+m+fe,ot,gl(e,10)+at,Gl(Ql(m)+lt+I,Ql(m)+xe),Gl(t,ql(m)),dt,"then?: ("+Gl(bt+Ne,"store: Store","row: "+I+")"+Xe,"then"+xe)+", reuseRowIds?: boolean",it+", reuseRowIds"),q(ze+l+R+m+fe,ze+R+m+fe,ot,gl(e,11)+at,Gl(bt,Ql(R+m)+lt+I,Ql(R+m)+xe),Gl(t,st,ql(R+m)),dt,Gl(ct,`partialRow: ${I})`+Xe,Yl),it),q(ye+l+m+fe,ye+m+fe,fe,gl(e,12),bt,Gl(t,st),a,ut,it);const h=K(l+m+pt,"{rowId, "+M+", cellComponents, getCellComponentProps, customCellIds"+It+`}: ${te}<'${e}'>`,[oe+`(${se}(customCellIds, `+t+`, rowId, ${M}).map((cellId: ${$}) => {`,"const Cell = (cellComponents?.[cellId] ?? "+Y+`(${t}, cellId)) as React.ComponentType<CellProps<typeof `+t+", typeof cellId>>;","return <Cell",`{...${de}(getCellComponentProps, cellId)} `,"key={cellId}",`tableId={${t}}`,rt,"cellId={cellId}",B,Xl,"/>;","})"+It+", rowId)"],gl(e,13)+ge);K(l+"Sorted"+p+pt,"{cellId, descending, offset, limit, ...props}: "+ne+`<'${e}'>`,Q+"(props, "+C+`(cellId, descending, offset, limit, props.${M}), ${t}, ${h});`,ml(e,13)+", sorted"+ge),K(l+p+pt,`props: ${ae}<'${e}'>`,Q+"(props, "+u+`(props.${M}), ${t}, ${h});`,ml(e,13)+ge),N(e,((n,d,s,r,I)=>{const $="Map"+Dl(d,1);c(0,L,$),c(1,L,$),q(i+l+I+p+w,i+p+w,o,`Gets ${ol(1)}the '${n}' Cell anywhere in `+Cl(e)+ge,a,Gl(t,r)),q(i+l+I+w,i+w,o,fl(e,n,0,1)+ge,bt,Gl(t,st,r));const u=q(l+I+w,w,d+(P(s)?Ne:a),fl(e,n)+ge,bt,Gl(t,st,r));q(ze+l+I+w+fe,ze+w+fe,ot,fl(e,n,9)+at,Gl(bt,Ql(w)+lt+d+" | "+$,Ql(w)+xe),Gl(t,st,r,ql(w)),dt,Gl(ct,`cell: ${d} | ${$})`+Xe,Yl),it),q(ye+l+I+w+fe,ye+w+fe,fe,fl(e,n,12),Gl(bt,"forceDel?: boolean"),Gl(t,st,r,"forceDel"),a,ut,it),K(l+I+w+pt,`{rowId, ${M}, debugIds}: `+le+`<'${e}', '${n}'>`,[oe+`('' + ${u}(rowId, `+M+`) ?? '', undefined, debugIds, ${r})`],fl(e,n,13)+ge)}))}));const ce=W(E((e=>$e(Z,e)?.[4]??a))," | ");q(i+C+$,i+C+$,Ke,rl(1,8,0,1)+" changes",Ct(I),ht()),q(C+$,C+$,Ke,rl(1,8)+" changes",Ct(y),ht()),q(h+$,h+$,Ke,pl(2,0,1),Ct(v),ht()),q(i+p+$,i+p+$,Ke,pl(3,0,0,1),Ct(x,`tableId: ${n} | null`),ht("tableId")),q(p+$,p+$,Ke,pl(3,0),Ct(A,`tableId: ${n} | null`),ht("tableId")),q(p+T+$,p+T+$,Ke,pl(14,3,1),Ct(k,`tableId: ${n} | null`),ht("tableId")),q(i+p+w+$,i+p+w+$,Ke,pl(16,3,0,1),Ct(S,`tableId: ${n} | null`,`cellId: ${ce} | null`),ht("tableId","cellId")),q(m+Te+$,m+Te+$,Ke,pl(15,3),Ct(O,`tableId: ${n} | null`),ht("tableId")),q(g+$,g+$,Ke,pl(4,3,1),Ct(D,`tableId: ${n} | null`),ht("tableId")),q(f+$,f+$,Ke,pl(13,3,1),Ct(G,`tableId: ${n} | null`,"cellId: "+ce+Ne,"descending: boolean","offset: number","limit: number"+Ne),ht("tableId","cellId","descending","offset","limit")),q(i+m+$,i+m+$,Ke,pl(5,3,0,1),Ct(J,`tableId: ${n} | null`,st+": IdOrNull"),ht("tableId",st)),q(m+$,m+$,Ke,pl(5,3),Ct(z,`tableId: ${n} | null`,st+": IdOrNull"),ht("tableId",st)),q(T+$,T+$,Ke,pl(6,5,1),Ct(F,`tableId: ${n} | null`,st+": IdOrNull"),ht("tableId",st)),q(i+w+$,i+w+$,Ke,pl(7,5,0,1),Ct(U,`tableId: ${n} | null`,st+": IdOrNull",`cellId: ${ce} | null`),ht("tableId",st,"cellId")),q(w+$,w+$,Ke,pl(7,5),Ct(_,`tableId: ${n} | null`,st+": IdOrNull",`cellId: ${ce} | null`),ht("tableId",st,"cellId"))}if(!ne(l)){const[e,l,t,n,d,s,I,b]=r;c(null,L,...r),c(1,L,H);const p=V("getDefaultValueComponent","valueId: Id",W(D(((e,l,t,a,n)=>`valueId == ${a} ? `+n+"ValueView : ")))+re);q(i+v,i+v,o,rl(2,0,0,1)+ge),q(v,v,e,rl(2,0)+ge);const C=q(x,x,t+Be,$l(y,Fe)+ge);q(ze+v+fe,ze+v+fe,ot,rl(2,9)+at,Gl(Ql(v)+lt+l,Ql(v)+xe),ql(v),dt,Gl(ct,`values: ${l})`+Xe,Yl),it),q(ze+R+v+fe,ze+R+v+fe,ot,rl(2,11)+at,Gl(Ql(R+v)+lt+l,Ql(R+v)+xe),ql(R+v),dt,Gl(ct,`partialValues: ${l})`+Xe,Yl),it),q(ye+v+fe,ye+v+fe,fe,rl(2,12),a,a,a,ut,it);const h=u(y+Le,Ml("valueId?: VId",M+Ee+H,Kl),ul("a Value"),`<VId extends ${t}>`),m=u(v+Le,Ml(M+Ee+H,"valueComponents?: {readonly [VId in "+t+`]?: ComponentType<${h}<VId>>;}`,`getValueComponentProps?: (valueId: ${t}) => ExtraProps`,$t,Kl),ul(sl(2,1)));c(1,j,m,h),K(v+pt,"{"+M+", valueComponents, getValueComponentProps"+It+"}: "+m,[oe+`(${C}(${M}).map((valueId) => {`,"const Value = valueComponents?.[valueId] ?? "+p+"(valueId);","return <Value",`{...${de}(getValueComponentProps, valueId)}`,"key={valueId}",B,Xl,"/>;","}), separator)"],rl(2,13)+ge),D(((e,l,t,n,d)=>{const s="Map"+Dl(l,1);c(0,L,s),c(1,L,s),q(i+d+y,i+y,o,wl(e,0,1)+ge,a,n);const r=q(d+y,y,l,wl(e)+ge,a,n);q(ze+d+y+fe,ze+y+fe,ot,wl(e,9)+at,Gl(Ql(y)+lt+l+" | "+s,Ql(y)+xe),Gl(n,ql(y)),dt,Gl(ct,`value: ${l} | ${s})`+Xe,Yl),it),q(ye+d+y+fe,ye+y+fe,fe,wl(e,12),a,n,a,ut,it),K(d+y+pt,`{${M}, debugIds}: ${h}<'${e}'>`,[oe+`('' + ${r}(`+M+`) ?? '', undefined, debugIds, ${n})`],wl(e,13)+ge)})),q(i+v+$,i+v+$,Ke,rl(2,8,0,1)+" changes",Ct(n),ht()),q(v+$,v+$,Ke,rl(2,8)+" changes",Ct(d),ht()),q(x+$,x+$,Ke,pl(10,0,1),Ct(s),ht()),q(i+y+$,i+y+$,Ke,pl(11,0,0,1),Ct(I,`valueId: ${t} | null`),ht("valueId")),q(y+$,y+$,Ke,pl(11,0),Ct(b,`valueId: ${t} | null`),ht("valueId"))}return K(je,`{${M}, ${M}ById, children}: `+ee+" & {readonly children: React.ReactNode}",["{",tt,"return (","<Context."+je,"value={useMemo(",`() => [${M} ?? contextValue[0], {...contextValue[1], ...${M}ById}],`,`[${M}, ${M}ById, contextValue],`,")}>","{children}",`</Context.${je}>`,");","}"],"Wraps part of an application in a context that provides default objects to be used by hooks and components within"),[I(...k(0),...S(),...X(0)),I(...k(1),...O(),...X(1))]},gt=(e,l,t)=>{if(ne(e)&&ne(l))return[a,a,a,a];const[n,d,o,s]=Zl(e,l,t);return[n,d,...mt(e,l,t,o,s)]},ft=JSON.parse,wt="prettier/",Tt=wt+"plugins/",yt={parser:"typescript",singleQuote:!0,trailingComma:"all",bracketSpacing:!1,jsdocSingleLineComment:!1},vt=zl((e=>{const l=()=>{const l=ft(e.getTablesSchemaJson());return!ne(l)||M(e.getTableIds(),(t=>{const a=e.getRowIds(t),n=Ie();if(M(a,(l=>M(e.getCellIds(t,l),(a=>{const d=e.getCell(t,l,a),o=be(n,a,(()=>[H(d),Ie(),[0],0])),[s,r,[I]]=o,$=be(r,d,(()=>0))+1;return $>I&&(o[2]=[$,d]),ie(r,d,$),o[3]++,s==H(d)})))))return l[t]={},se(n,(([e,,[,n],d],o)=>{l[t][o]={[r]:e,...d==j(a)?{[I]:n}:{}}})),1}))?l:{}},t=()=>{const l=ft(e.getValuesSchemaJson());return ne(l)&&e.forEachValue(((e,t)=>{l[e]={[r]:H(t)}})),l},a=e=>gt(l(),t(),e),n=async e=>{const l=["d.ts","ts","d.ts","tsx"],t=[];let n;try{n=(await import(wt+"standalone")).format,U(t,await import(Tt+"estree"),await import(Tt+"typescript"))}catch{n=async e=>e}return await G(B(a(e),(async(e,a)=>El(await n(e,{...yt,plugins:t,filepath:"_."+l[a]})))))};return le({getStoreStats:l=>{let t=0,a=0,n=0;const d={};return e.forEachTable(((e,o)=>{t++;let s=0,r=0;const I={};o(((e,t)=>{s++;let a=0;t((()=>a++)),r+=a,l&&(I[e]={rowCells:a})})),a+=s,n+=r,l&&(d[e]={tableRows:s,tableCells:r,rows:I})})),{totalTables:t,totalRows:a,totalCells:n,totalValues:j(e.getValueIds()),jsonLength:j(e.getJson()),...l?{detail:{tables:d}}:{}}},getStoreTablesSchema:l,getStoreValuesSchema:t,getStoreApi:a,getPrettyStoreApi:n,getStore:()=>e})}));e.createTools=vt},"object"==typeof exports&&"undefined"!=typeof module?l(exports):"function"==typeof define&&define.amd?define(["exports"],l):l((e="undefined"!=typeof globalThis?globalThis:e||self).TinyBaseTools={});
